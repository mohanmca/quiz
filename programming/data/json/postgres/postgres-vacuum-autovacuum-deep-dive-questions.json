[
  {"type":"radiogroup","name":"vac_q1","title":"Primary purpose of VACUUM in PostgreSQL?","choices":["Rebuild tables","Remove dead tuples and update visibility map","Reindex all indexes","Backup database"],"correctAnswer":"Remove dead tuples and update visibility map"},
  {"type":"radiogroup","name":"vac_q2","title":"VACUUM FULL does:","choices":["Non-blocking cleanup","Table rewrite with compaction; requires extra disk and stronger locks","Only indexes rewrite","Changes autovacuum settings"],"correctAnswer":"Table rewrite with compaction; requires extra disk and stronger locks"},
  {"type":"radiogroup","name":"vac_q3","title":"Autovacuum triggers based on:","choices":["Random schedule","Threshold + scale factor of dead tuples","Every minute","On checkpoints"],"correctAnswer":"Threshold + scale factor of dead tuples"},
  {"type":"radiogroup","name":"vac_q4","title":"Which reloption overrides table autovacuum scale factor?","choices":["fillfactor","autovacuum_vacuum_scale_factor","toast_tuple_target","parallel_workers"],"correctAnswer":"autovacuum_vacuum_scale_factor"},
  {"type":"radiogroup","name":"vac_q5","title":"HOT update advantage:","choices":["Skips heap updates","Avoids index tuple creation when indexed columns unchanged","Frees WAL","Disables vacuum"],"correctAnswer":"Avoids index tuple creation when indexed columns unchanged"},
  {"type":"radiogroup","name":"vac_q6","title":"All-visible in visibility map enables:","choices":["JIT","Index-only scans to skip heap fetch","Parallel query only","Logical replication"],"correctAnswer":"Index-only scans to skip heap fetch"},
  {"type":"radiogroup","name":"vac_q7","title":"Which command updates planner stats?","choices":["VACUUM","ANALYZE","CHECKPOINT","REINDEX"],"correctAnswer":"ANALYZE"},
  {"type":"radiogroup","name":"vac_q8","title":"What is autovacuum_freeze_max_age about?","choices":["Threshold to force aggressive vacuum to avoid xid wraparound","Max table age in days","Planner age threshold","Checkpoint timeout"],"correctAnswer":"Threshold to force aggressive vacuum to avoid xid wraparound"},
  {"type":"radiogroup","name":"vac_q9","title":"Which columns show per-table vacuum/analyze counts?","choices":["pg_statio_all_tables","pg_stat_all_tables","pg_locks","pg_roles"],"correctAnswer":"pg_stat_all_tables"},
  {"type":"radiogroup","name":"vac_q10","title":"Vacuum progress can be inspected in:","choices":["pg_stat_progress_vacuum","pg_stat_statements","pg_stat_bgwriter","pg_stat_wal"],"correctAnswer":"pg_stat_progress_vacuum"},
  {"type":"radiogroup","name":"vac_q11","title":"Which setting controls per-process throttling of vacuum?","choices":["vacuum_cost_limit and vacuum_cost_delay","random_page_cost","jit_above_cost","track_io_timing"],"correctAnswer":"vacuum_cost_limit and vacuum_cost_delay"},
  {"type":"radiogroup","name":"vac_q12","title":"What does \"frozen\" mean for a row?","choices":["Row cannot be updated","Transaction ID is replaced with FrozenXID; no wraparound risk","Index pointer removed","Row moved to TOAST"],"correctAnswer":"Transaction ID is replaced with FrozenXID; no wraparound risk"},
  {"type":"radiogroup","name":"vac_q13","title":"Which age triggers wraparound protection measures if ignored?","choices":["database age","relfrozenxid age nearing autovacuum_freeze_max_age","checkpoint age","WAL age"],"correctAnswer":"relfrozenxid age nearing autovacuum_freeze_max_age"},
  {"type":"radiogroup","name":"vac_q14","title":"VACUUM (VERBOSE) prints:","choices":["DDL only","Per-relation cleanup stats and VM updates","Query plans","Locks"],"correctAnswer":"Per-relation cleanup stats and VM updates"},
  {"type":"radiogroup","name":"vac_q15","title":"Index bloat often caused by:","choices":["Too few indexes","Frequent updates/deletes without index cleanup","Large shared_buffers","Many partitions"],"correctAnswer":"Frequent updates/deletes without index cleanup"},
  {"type":"radiogroup","name":"vac_q16","title":"How to rebuild an index with minimal blocking?","choices":["REINDEX","REINDEX CONCURRENTLY","VACUUM FULL","CLUSTER"],"correctAnswer":"REINDEX CONCURRENTLY"},
  {"type":"radiogroup","name":"vac_q17","title":"TOAST tables store:","choices":["Sequences","Large varlena values exceeding page","All foreign keys","Index definitions"],"correctAnswer":"Large varlena values exceeding page"},
  {"type":"radiogroup","name":"vac_q18","title":"Which GUC increases aggressiveness of freezing?","choices":["vacuum_freeze_min_age (lower to freeze earlier)","random_page_cost","jit_inline_above_cost","enable_hashjoin"],"correctAnswer":"vacuum_freeze_min_age (lower to freeze earlier)"},
  {"type":"radiogroup","name":"vac_q19","title":"Autovacuum worker concurrency controlled by:","choices":["max_worker_processes","autovacuum_max_workers","max_parallel_workers","bgwriter_lru_maxpages"],"correctAnswer":"autovacuum_max_workers"},
  {"type":"radiogroup","name":"vac_q20","title":"Which command shows relation total size with indexes?","choices":["\n```sql\nSELECT pg_size_pretty(pg_total_relation_size('t'));\n```","SHOW shared_buffers;","EXPLAIN;","VACUUM VERBOSE;"],"correctAnswer":"\n```sql\nSELECT pg_size_pretty(pg_total_relation_size('t'));\n```"},
  {"type":"radiogroup","name":"vac_q21","title":"Which SQL shows dead tuple ratio quickly?","choices":["\n```sql\nSELECT n_dead_tup, n_live_tup\nFROM pg_stat_all_tables\nWHERE relname='t';\n```","\n```sql\nSELECT * FROM pg_locks;\n```","\n```sql\nVACUUM (VERBOSE) t;\n```","\n```sql\nEXPLAIN SELECT * FROM t;\n```"],"correctAnswer":"\n```sql\nSELECT n_dead_tup, n_live_tup\nFROM pg_stat_all_tables\nWHERE relname='t';\n```"},
  {"type":"radiogroup","name":"vac_q22","title":"Index-only scans require pages to be:","choices":["All-frozen only","All-visible in visibility map","Locked","Compressed"],"correctAnswer":"All-visible in visibility map"},
  {"type":"radiogroup","name":"vac_q23","title":"When is VACUUM FULL appropriate?","choices":["Routine maintenance nightly","Severe bloat and reclaim space immediately acceptable with locks","Always after deletes","When ANALYZE fails"],"correctAnswer":"Severe bloat and reclaim space immediately acceptable with locks"},
  {"type":"radiogroup","name":"vac_q24","title":"Autovacuum can be tuned per table with:","choices":["ALTER TABLE ... SET (autovacuum_enabled=..., autovacuum_vacuum_scale_factor=..., autovacuum_analyze_scale_factor=...)","ALTER SYSTEM ONLY","pg_hba.conf","postgresql.auto.conf only"],"correctAnswer":"ALTER TABLE ... SET (autovacuum_enabled=..., autovacuum_vacuum_scale_factor=..., autovacuum_analyze_scale_factor=...)"},
  {"type":"radiogroup","name":"vac_q25","title":"Vacuum progress columns include:","choices":["relid, phase, heap_blks_total, heap_blks_scanned","wal_total, wal_used","jit_time","checkpoint_progress"],"correctAnswer":"relid, phase, heap_blks_total, heap_blks_scanned"},
  {"type":"radiogroup","name":"vac_q26","title":"Visibility map helps VACUUM by:","choices":["Skipping all-visible pages","Increasing shared buffers","Reducing JIT","Rewriting table"],"correctAnswer":"Skipping all-visible pages"},
  {"type":"radiogroup","name":"vac_q27","title":"Which setting reduces vacuum impact on busy systems?","choices":["vacuum_cost_delay / vacuum_cost_limit tuning","Increase wal_level","Disable autovacuum","Decrease autovacuum_max_workers"],"correctAnswer":"vacuum_cost_delay / vacuum_cost_limit tuning"},
  {"type":"radiogroup","name":"vac_q28","title":"Freezing prevents:","choices":["Checkpointing","Wraparound by pegging very old tuples to FrozenXID","Parallel workers","Deadlocks"],"correctAnswer":"Wraparound by pegging very old tuples to FrozenXID"},
  {"type":"radiogroup","name":"vac_q29","title":"High n_dead_tup with low autovacuum activity suggests:","choices":["Increase shared_buffers","Autovacuum thresholds too high / disabled for table","Too many indexes","JIT off"],"correctAnswer":"Autovacuum thresholds too high / disabled for table"},
  {"type":"radiogroup","name":"vac_q30","title":"Which tool can rebuild tables without long exclusive locks?","choices":["pg_repack (external utility)","VACUUM","ANALYZE","CHECKPOINT"],"correctAnswer":"pg_repack (external utility)"},
  {"type":"radiogroup","name":"vac_q31","title":"Deferred cleanup of dead tuples occurs when:","choices":["Long-running transactions hold old snapshots","Too many connections","JIT on","Autovacuum workers idle"],"correctAnswer":"Long-running transactions hold old snapshots"},
  {"type":"radiogroup","name":"vac_q32","title":"What is the \"freeze map\"?","choices":["A map of queries to freeze","Part of visibility map tracking all-frozen pages","Autovacuum worker registry","Index map"],"correctAnswer":"Part of visibility map tracking all-frozen pages"},
  {"type":"radiogroup","name":"vac_q33","title":"To investigate index bloat quickly:","choices":["EXPLAIN ANALYZE","Use size queries and pageinspect/pgstat extensions","VACUUM (VERBOSE)","DROP INDEX"],"correctAnswer":"Use size queries and pageinspect/pgstat extensions"},
  {"type":"radiogroup","name":"vac_q34","title":"Which autovacuum parameter sets a minimum tuple threshold to trigger?","choices":["autovacuum_vacuum_threshold","autovacuum_max_workers","vacuum_cost_limit","vacuum_freeze_table_age"],"correctAnswer":"autovacuum_vacuum_threshold"},
  {"type":"radiogroup","name":"vac_q35","title":"autovacuum_analyze_scale_factor default is typically:","choices":["0.1 (10%)","0.2 (20%)","0.01 (1%)","1.0 (100%)"],"correctAnswer":"0.1 (10%)"},
  {"type":"radiogroup","name":"vac_q36","title":"Vacuum is blocked by:","choices":["SELECT statements always","Exclusive locks and long transactions on the same relation","Autovacuum off","shared_buffers low"],"correctAnswer":"Exclusive locks and long transactions on the same relation"},
  {"type":"radiogroup","name":"vac_q37","title":"Which command forces aggressive freezing?","choices":["VACUUM (FREEZE)","VACUUM (ANALYZE)","VACUUM FULL","ANALYZE FREEZE"],"correctAnswer":"VACUUM (FREEZE)"},
  {"type":"radiogroup","name":"vac_q38","title":"Autovacuum logging can be increased with:","choices":["log_min_duration_statement","log_autovacuum_min_duration","client_min_messages","log_checkpoints"],"correctAnswer":"log_autovacuum_min_duration"},
  {"type":"radiogroup","name":"vac_q39","title":"Which reloption disables autovacuum per table?","choices":["autovacuum_enabled=false","autovacuum=false","vacuum=false","noautovacuum"],"correctAnswer":"autovacuum_enabled=false"},
  {"type":"radiogroup","name":"vac_q40","title":"Which metric suggests index-only scans are possible?","choices":["High idx_tup_fetch / idx_tup_read ratio","High idx_tup_read with low idx_tup_fetch","High seq_scan","High n_dead_tup"],"correctAnswer":"High idx_tup_read with low idx_tup_fetch"}
]

