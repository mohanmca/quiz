<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Terraform AWS Modules Workshop</title>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' rx='6' fill='%230f766e'/%3E%3Cpath d='M8 7h16v5H8zm0 7h10v5H8zm0 7h16v4H8z' fill='%23fff'/%3E%3C/svg%3E" />
<style>
:root {
  --bg: #f4f8fb;
  --text: #102334;
  --card: #ffffff;
  --muted: #4a6377;
  --border: #d8e4ef;
  --accent: #0f766e;
  --accent-2: #d97706;
  --ok: #15803d;
  --bad: #b91c1c;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  color: var(--text);
  background:
    radial-gradient(1200px 700px at -10% -20%, #d9f5ee 0%, transparent 60%),
    radial-gradient(1200px 700px at 110% 120%, #ffe8c7 0%, transparent 62%),
    var(--bg);
  font-family: "IBM Plex Sans", "Avenir Next", "Segoe UI", sans-serif;
}
#progress-bar {
  position: fixed;
  top: 0;
  left: 0;
  height: 5px;
  width: 0%;
  background: linear-gradient(90deg, var(--accent) 0%, var(--accent-2) 100%);
  z-index: 1000;
  transition: width 0.25s ease;
}
#app { max-width: 1160px; margin: 0 auto; padding: 14px; }
#header {
  position: sticky;
  top: 10px;
  z-index: 50;
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap: 10px;
  align-items: center;
  background: rgba(255, 255, 255, 0.96);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 10px 14px;
  backdrop-filter: blur(4px);
}
#module-label { font-weight: 700; }
#slide-counter { color: var(--muted); font-weight: 600; }
#header .right { display: flex; align-items: center; gap: 8px; }
button {
  border: 1px solid #b7c9d8;
  background: #fff;
  color: var(--text);
  border-radius: 10px;
  padding: 8px 11px;
  cursor: pointer;
  font-weight: 600;
}
button:hover { border-color: var(--accent); }
button:disabled { opacity: 0.55; cursor: not-allowed; }
#slide {
  margin-top: 14px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(14, 36, 61, 0.06);
  min-height: 560px;
  padding: 34px 40px;
}
#slide h1, #slide h2, #slide h3 { margin-top: 0; }
#slide p { line-height: 1.5; }
#slide pre {
  white-space: pre;
  overflow-x: auto;
  background: #f0f6fb;
  border: 1px solid #d5e2ee;
  border-radius: 9px;
  padding: 11px;
  font-family: "JetBrains Mono", "Cascadia Mono", monospace;
  font-size: 12.5px;
}
#slide table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 14px; }
#slide th, #slide td { border: 1px solid #d6e3ee; padding: 8px; text-align: left; vertical-align: top; }
#slide th { background: #eef5fb; }
.diagram {
  white-space: pre;
  overflow-x: auto;
  border: 2px dashed #bfd5e8;
  border-radius: 9px;
  background: #f7fbff;
  padding: 11px;
  font-family: "JetBrains Mono", "Cascadia Mono", monospace;
  margin: 10px 0;
}
.note, .tip, .warn, .real { border-left: 4px solid; border-radius: 8px; padding: 10px 12px; margin: 10px 0; }
.note { border-color: #0284c7; background: #e0f2fe; }
.tip { border-color: #0f766e; background: #dcfce7; }
.warn { border-color: #d97706; background: #fff7ed; }
.real { border-color: #b45309; background: #fffbeb; }
#nav { display: flex; justify-content: space-between; margin-top: 12px; gap: 10px; }
#nav .next { background: var(--accent); color: #fff; border-color: var(--accent); }
#nav .prev { background: #64748b; color: #fff; border-color: #64748b; }
#toc {
  position: fixed;
  top: 0;
  left: -390px;
  width: 380px;
  height: 100%;
  background: #fff;
  border-right: 1px solid var(--border);
  z-index: 210;
  transition: left 0.22s ease;
  overflow-y: auto;
  padding: 16px;
}
#toc.open { left: 0; }
#toc-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.32);
  z-index: 200;
}
.toc-module { margin-bottom: 14px; }
.toc-module h3 { margin: 0 0 6px 0; font-size: 14px; color: #2d475d; }
.toc-link { display: block; font-size: 13px; text-decoration: none; color: #223648; padding: 4px 6px; border-radius: 6px; }
.toc-link.active { background: #def7ec; color: #0f766e; font-weight: 700; }
.quiz-wrap { max-width: 780px; margin: 0 auto; }
.quiz-header { margin-bottom: 10px; }
.quiz-progress { height: 9px; background: #e3edf5; border-radius: 999px; overflow: hidden; margin: 8px 0 4px 0; }
.quiz-progress > div { height: 100%; background: linear-gradient(90deg, var(--accent), #14b8a6); transition: width 0.2s ease; }
.quiz-opt {
  border: 2px solid #d4e1ec;
  border-radius: 10px;
  background: #fff;
  padding: 10px;
  margin: 7px 0;
  cursor: pointer;
}
.quiz-opt:hover { border-color: var(--accent); }
.quiz-opt.correct { border-color: #22c55e; background: #f0fdf4; }
.quiz-opt.wrong { border-color: #ef4444; background: #fef2f2; }
.quiz-opt.disabled { cursor: not-allowed; opacity: 0.82; }
.quiz-feedback { display: none; margin-top: 10px; border-radius: 9px; padding: 10px 12px; }
.quiz-feedback.show { display: block; }
.quiz-feedback.pass { background: #ecfdf5; border: 1px solid #86efac; color: #14532d; }
.quiz-feedback.fail { background: #fef2f2; border: 1px solid #fca5a5; color: #7f1d1d; }
.retry-box { border: 1px solid #dbe7f1; border-radius: 10px; background: #f8fbff; padding: 10px; margin: 8px 0; }
.kbd { font-family: "JetBrains Mono", monospace; background: #e8f1f8; border: 1px solid #cfe0ee; border-radius: 5px; padding: 1px 5px; }
@media (max-width: 900px) {
  #app { padding: 9px; }
  #header { grid-template-columns: 1fr; gap: 8px; }
  #slide { padding: 20px 18px; min-height: 500px; }
  #toc { width: 92vw; left: -92vw; }
}
</style>
</head>
<body>
<div id="progress-bar"></div>
<div id="app">
  <div id="header">
    <div id="module-label">Module</div>
    <div id="slide-counter">1 / 170</div>
    <div class="right">
      <button id="toc-btn" title="Table of contents (T)">TOC</button>
      <button id="retry-btn" title="Retry failed questions (R)">Retry</button>
      <span id="pct">0%</span>
    </div>
  </div>
  <div id="slide"></div>
  <div id="nav">
    <button class="prev" id="prev-btn">Prev</button>
    <button class="next" id="next-btn">Next</button>
  </div>
</div>
<div id="toc-overlay"></div>
<div id="toc"><h2>Table of Contents</h2><div id="toc-body"></div></div>

<script>
const STORE_KEY = 'terraform_aws_modules_workshop';
const MODULE_LABELS = ["M0: Terraform + Terragrunt + HCL Foundations", "M1: EC2 Instance Module", "M2: ECS Module", "M3: EKS Module", "M4: IAM Module", "M5: KMS Module", "M6: S3 Bucket Module", "M7: Secrets Manager Module", "M8: Security Group Module", "M9: VPC Module"];
const SLIDES = [{"id": "m0_s1", "moduleId": 0, "title": "Why Terraform + Terragrunt for Large AWS Estates and Workshop Orientation", "content": "<h2>Why Terraform + Terragrunt for Large AWS Estates and Workshop Orientation</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><div class=\"diagram\">\n               +---------------------+\nDeveloper ---&gt;| Terraform CLI       |\n               +----------+----------+\n                          |\n                          v\n               +----------+----------+\n               | Plan + State Engine |\n               +----------+----------+\n                          |\n                          v\n      +-------------------+-------------------+\n      | AWS modules: VPC/SG/IAM/KMS/S3/EKS... |\n      +---------------------------------------+\n</div><table><thead><tr><th>Layer</th><th>Primary files</th><th>Outcome</th></tr></thead><tbody><tr><td>Core behavior</td><td>/Users/mohannarayanaswamy/git/terraform/docs/README.md</td><td>Execution model and lifecycle reference</td></tr><tr><td>Architecture</td><td>/Users/mohannarayanaswamy/git/terraform/docs/architecture.md</td><td>Request flow and dependency planning</td></tr><tr><td>Planning semantics</td><td>/Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md</td><td>Create/update/replace decision patterns</td></tr><tr><td>Debug workflow</td><td>/Users/mohannarayanaswamy/git/terraform/docs/debugging.md</td><td>Deterministic diagnostics and reproducibility</td></tr></tbody></table><div class=\"tip\"><strong>Orientation:</strong> This workshop maps each deep-dive slide to concrete files, variable traits, and output contracts.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s2", "moduleId": 0, "title": "Terraform CLI Workflow (`init`, `validate`, `plan`, `apply`, `destroy`) in Practice", "content": "<h2>Terraform CLI Workflow (`init`, `validate`, `plan`, `apply`, `destroy`) in Practice</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\nterraform init\nterraform validate\nterraform plan -out tf.plan\nterraform show -json tf.plan &gt; tfplan.json\nterraform apply tf.plan\nterraform destroy\n</pre><div class=\"warn\"><strong>Troubleshooting:</strong> Do not skip `validate` and `plan` in CI; pipeline should fail fast before mutable operations.</div><table><thead><tr><th>Command</th><th>Primary use</th><th>Failure signal</th></tr></thead><tbody><tr><td>init</td><td>Provider/backend setup</td><td>Plugin or backend mismatch</td></tr><tr><td>validate</td><td>Static syntax and type checks</td><td>Invalid references or type errors</td></tr><tr><td>plan</td><td>Action graph preview</td><td>Unexpected replace/destroy actions</td></tr><tr><td>apply</td><td>Mutating execution</td><td>Provider API or permission failures</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s3", "moduleId": 0, "title": "Terraform Core Request Flow from `architecture.md` (CLI, backend, loader, context)", "content": "<h2>Terraform Core Request Flow from `architecture.md` (CLI, backend, loader, context)</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><div class=\"diagram\">\nCLI args -&gt; loader -&gt; config graph -&gt; eval context -&gt; plan graph -&gt; provider RPCs -&gt; state write\n</div><table><thead><tr><th>Core component</th><th>Document reference</th><th>Why it matters</th></tr></thead><tbody><tr><td>Loader</td><td>/Users/mohannarayanaswamy/git/terraform/docs/architecture.md</td><td>Determines module/module-call expansion</td></tr><tr><td>Evaluation context</td><td>/Users/mohannarayanaswamy/git/terraform/docs/architecture.md</td><td>Variable/local interpolation resolution</td></tr><tr><td>Plan graph</td><td>/Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md</td><td>Replace vs update semantics are computed here</td></tr><tr><td>State mutation</td><td>/Users/mohannarayanaswamy/git/terraform/docs/resource-instance-change-lifecycle.md</td><td>Lifecycle transitions and drift implications</td></tr></tbody></table><div class=\"real\"><strong>Code explanation:</strong> The request flow model is used as the debugging baseline in every module section.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s4", "moduleId": 0, "title": "HCL Block Types (`terraform`, `provider`, `resource`, `data`, `module`, `variable`, `output`, `locals`)", "content": "<h2>HCL Block Types (`terraform`, `provider`, `resource`, `data`, `module`, `variable`, `output`, `locals`)</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\nterraform {\n  required_version = \"&gt;= 1.5\"\n}\nprovider \"aws\" { region = var.region }\nresource \"aws_vpc\" \"this\" { cidr_block = var.cidr }\ndata \"aws_caller_identity\" \"current\" {}\nmodule \"ecs\" { source = \"./modules/service\" }\nvariable \"tags\" { type = map(string) }\noutput \"vpc_id\" { value = aws_vpc.this.id }\nlocals { env = \"prod\" }\n</pre><div class=\"tip\"><strong>Trait focus:</strong> Every module quiz includes questions on block names and variable/output traits.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s5", "moduleId": 0, "title": "HCL Type System and Expressions (string, number, bool, list, map, object)", "content": "<h2>HCL Type System and Expressions (string, number, bool, list, map, object)</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><table><thead><tr><th>Type</th><th>Example</th><th>Operational implication</th></tr></thead><tbody><tr><td>string</td><td>var.name</td><td>Naming consistency and tagging</td></tr><tr><td>number</td><td>var.deletion_window</td><td>Guardrail thresholds</td></tr><tr><td>bool</td><td>var.create</td><td>Conditional creation paths</td></tr><tr><td>object</td><td>var.capacity_reservation_specification</td><td>Nested trait validation</td></tr></tbody></table><pre>\nvariable \"replica\" {\n  type = list(object({\n    region = string\n    kms_key_id = optional(string)\n  }))\n}\n</pre><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s6", "moduleId": 0, "title": "Variables: Defaults, Validation, Sensitivity, and Nullable Patterns", "content": "<h2>Variables: Defaults, Validation, Sensitivity, and Nullable Patterns</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\nvariable \"name\" {\n  type        = string\n  nullable    = false\n  validation {\n    condition     = length(var.name) &gt; 2\n    error_message = \"Name must be longer than 2 chars\"\n  }\n}\n</pre><div class=\"warn\"><strong>Troubleshooting:</strong> Validation failures should be surfaced in PR checks before stateful apply runs.</div><table><thead><tr><th>Trait</th><th>Default</th><th>Failure mode</th></tr></thead><tbody><tr><td>nullable</td><td>false</td><td>Unexpected null access in resources</td></tr><tr><td>sensitive</td><td>true for secrets</td><td>Leak risk in logs/output</td></tr><tr><td>validation</td><td>custom regex/rules</td><td>Late apply-time failure</td></tr><tr><td>default</td><td>explicit</td><td>Implicit behavior drift across envs</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s7", "moduleId": 0, "title": "Locals, Functions, and Reusable Expression Design", "content": "<h2>Locals, Functions, and Reusable Expression Design</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\nlocals {\n  common_tags = merge(var.tags, {\n    ManagedBy = \"Terraform\"\n    Service   = var.name\n  })\n}\n</pre><table><thead><tr><th>Function</th><th>Example</th><th>Usage</th></tr></thead><tbody><tr><td>merge</td><td>merge(var.tags, local.extra)</td><td>Stable tag unions</td></tr><tr><td>coalesce</td><td>coalesce(var.name, \"default\")</td><td>Fallback trait selection</td></tr><tr><td>try</td><td>try(var.map.key, null)</td><td>Defensive reads</td></tr><tr><td>toset</td><td>toset(var.subnets)</td><td>for_each determinism</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s8", "moduleId": 0, "title": "Meta-Arguments: `count`, `for_each`, `depends_on`, `lifecycle`, `dynamic`", "content": "<h2>Meta-Arguments: `count`, `for_each`, `depends_on`, `lifecycle`, `dynamic`</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\nresource \"aws_instance\" \"this\" {\n  for_each = var.instances\n  lifecycle {\n    create_before_destroy = true\n    ignore_changes        = [ami]\n  }\n  depends_on = [aws_security_group.this]\n}\n</pre><div class=\"diagram\">\nfor_each map -&gt; instance graph nodes\ndepends_on edge -&gt; security baseline before compute\nlifecycle rules -&gt; replacement safety during updates\n</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s9", "moduleId": 0, "title": "Terragrunt Fundamentals: `terragrunt.hcl`, `include`, `locals`, and DRY environment layering", "content": "<h2>Terragrunt Fundamentals: `terragrunt.hcl`, `include`, `locals`, and DRY environment layering</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\n# terragrunt.hcl\ninclude \"root\" {\n  path = find_in_parent_folders()\n}\nlocals {\n  env = \"prod\"\n}\ninputs = {\n  region = \"us-east-1\"\n}\n</pre><div class=\"real\"><strong>Terragrunt slide 1/3:</strong> Hierarchical includes remove duplicated backend/provider blocks.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s10", "moduleId": 0, "title": "Terragrunt Dependencies: `dependency` blocks, `mock_outputs`, and `run-all` orchestration", "content": "<h2>Terragrunt Dependencies: `dependency` blocks, `mock_outputs`, and `run-all` orchestration</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\ndependency \"vpc\" {\n  config_path = \"../vpc\"\n  mock_outputs = {\n    vpc_id = \"vpc-000000\"\n  }\n}\n\nterraform {\n  source = \"../../modules/ecs-service\"\n}\n</pre><div class=\"diagram\">\nterragrunt run-all plan\n   -&gt; vpc\n   -&gt; security-group\n   -&gt; ecs-service (consumes dependency.vpc.outputs.vpc_id)\n</div><div class=\"real\"><strong>Terragrunt slide 2/3:</strong> `dependency` and `mock_outputs` keep plans deterministic in incomplete envs.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s11", "moduleId": 0, "title": "Planning Semantics from `planning-behaviors.md` (Create/Delete/Update/Replace/Read/No-op)", "content": "<h2>Planning Semantics from `planning-behaviors.md` (Create/Delete/Update/Replace/Read/No-op)</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><table><thead><tr><th>Plan action</th><th>Meaning</th><th>Runbook action</th></tr></thead><tbody><tr><td>create</td><td>New resource instance</td><td>Check quotas/limits before apply</td></tr><tr><td>update</td><td>In-place mutation</td><td>Review drift and blast radius</td></tr><tr><td>replace</td><td>Destroy+create sequence</td><td>Gate with maintenance window</td></tr><tr><td>delete</td><td>Resource removal</td><td>Confirm downstream dependency cleanup</td></tr></tbody></table><div class=\"real\"><strong>Terragrunt slide 3/3:</strong> apply order from `run-all` must align with plan action semantics.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s12", "moduleId": 0, "title": "State and Refactoring Safety: `moved` blocks, `ignore_changes`, `create_before_destroy`, drift handling", "content": "<h2>State and Refactoring Safety: `moved` blocks, `ignore_changes`, `create_before_destroy`, drift handling</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\nmoved {\n  from = aws_security_group_rule.old\n  to   = aws_vpc_security_group_ingress_rule.new\n}\n</pre><div class=\"warn\"><strong>Troubleshooting:</strong> If moves are omitted, Terraform may destroy/recreate unexpectedly. Always inspect plan replace edges.</div><table><thead><tr><th>Safety control</th><th>Primary use</th><th>Risk reduced</th></tr></thead><tbody><tr><td>moved</td><td>Refactor addresses</td><td>Unplanned destroy/create</td></tr><tr><td>ignore_changes</td><td>Provider-computed fields</td><td>Perpetual diff noise</td></tr><tr><td>create_before_destroy</td><td>Zero-downtime swaps</td><td>Service interruption</td></tr><tr><td>drift detection</td><td>State vs actual resources</td><td>Silent config divergence</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s13", "moduleId": 0, "title": "Debugging Terraform Operations using `debugging.md` (tests, Delve, VS Code launch modes)", "content": "<h2>Debugging Terraform Operations using `debugging.md` (tests, Delve, VS Code launch modes)</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\n# debug shell\nTF_LOG=TRACE terraform plan\n# delve entrypoint for Terraform core hacking\n# dlv debug ./cmd/terraform -- plan\n</pre><div class=\"warn\"><strong>Troubleshooting:</strong> Capture exact provider versions and backend config in bug reports to keep reproductions stable.</div><table><thead><tr><th>Debug mode</th><th>Reference</th><th>When to use</th></tr></thead><tbody><tr><td>TF_LOG</td><td>/Users/mohannarayanaswamy/git/terraform/docs/debugging.md</td><td>Provider request/response tracing</td></tr><tr><td>Delve</td><td>/Users/mohannarayanaswamy/git/terraform/docs/debugging.md</td><td>Core execution stepping</td></tr><tr><td>VS Code launch</td><td>/Users/mohannarayanaswamy/git/terraform/docs/debugging.md</td><td>Repeatable local breakpoints</td></tr><tr><td>Unit/integration tests</td><td>/Users/mohannarayanaswamy/git/terraform/docs/debugging.md</td><td>Regression verification</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s14", "moduleId": 0, "title": "Dockerized IaC Debug/Test Workflow (Terraform/Terragrunt in containers, LocalStack caveats, reproducible envs)", "content": "<h2>Dockerized IaC Debug/Test Workflow (Terraform/Terragrunt in containers, LocalStack caveats, reproducible envs)</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><pre>\ndocker run --rm -it   -v $PWD:/workspace   -w /workspace   hashicorp/terraform:latest plan\n\n# Terragrunt inside container\n# docker run ... ghcr.io/gruntwork-io/terragrunt run-all plan\n</pre><div class=\"diagram\">\nDeveloper laptop -&gt; container image -&gt; terraform/terragrunt CLI -&gt; AWS APIs\n                         |\n                         +-&gt; pinned tools + reproducible dependency chain\n</div><div class=\"warn\"><strong>Docker troubleshooting:</strong> LocalStack endpoint drift and credential mounts are the two most common failure roots.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s15", "moduleId": 0, "title": "Comprehensive AWS IaC Coverage Map Across Modules (VPC, SG, IAM, KMS, S3, Secrets, EC2, ECS, EKS)", "content": "<h2>Comprehensive AWS IaC Coverage Map Across Modules (VPC, SG, IAM, KMS, S3, Secrets, EC2, ECS, EKS)</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><table><thead><tr><th>Domain</th><th>Primary module</th><th>Major APIs/Integrations</th></tr></thead><tbody><tr><td>Networking</td><td>VPC + Security Group</td><td>EC2/VPC APIs, route tables, endpoints</td></tr><tr><td>Identity</td><td>IAM</td><td>STS/IAM policy evaluation APIs</td></tr><tr><td>Compute</td><td>EC2 + ECS + EKS</td><td>EC2, ECS, EKS control plane APIs</td></tr><tr><td>Data/Secrets</td><td>S3 + Secrets + KMS</td><td>S3/KMS/Secrets Manager APIs</td></tr><tr><td>Ops integration</td><td>Cross-module</td><td>gRPC config service + SQL inventory snapshots</td></tr></tbody></table><pre>\n# Python example used in workshop labs\nimport grpc\nimport psycopg\n\n# gRPC: publish latest Terraform output map\n# SQL: store tfplan drift summary for audit/retry\n</pre><div class=\"tip\"><strong>Comprehensive map:</strong> This is the baseline matrix used by module-specific troubleshooting playbooks.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_s16", "moduleId": 0, "title": "Production Operations Playbook: change windows, blast-radius control, rollback, and incident triage", "content": "<h2>Production Operations Playbook: change windows, blast-radius control, rollback, and incident triage</h2><p><strong>Module:</strong> Cross-repo foundations for Terraform + Terragrunt delivery at AWS scale.</p><table><thead><tr><th>Merged Date</th><th>Repository</th><th>PR</th><th>Title</th><th>URL</th></tr></thead><tbody><tr><td>2026-02-19</td><td>terraform-aws-ecs</td><td>#400</td><td>fix: Remove `/service-role`/ from `AmazonECSInfrastructureRolePolicyForVpcLattice` ARN</td><td>https://github.com/terraform-aws-modules/terraform-aws-ecs/pull/400</td></tr><tr><td>2026-01-23</td><td>terraform-aws-iam</td><td>#634</td><td>feat: Update IAM policy for AWS Gateway API Controller to v2.0.0</td><td>https://github.com/terraform-aws-modules/terraform-aws-iam/pull/634</td></tr><tr><td>2026-01-22</td><td>terraform-aws-ecs</td><td>#393</td><td>feat: Update infrastructure IAM policy permissions with latest AWS `AmazonECSInfrastructureRolePolicyForManagedInstances` managed policy</td><td>https://github.com/terraform-aws-modules/terraform-aws-ecs/pull/393</td></tr><tr><td>2026-01-20</td><td>terraform-aws-eks</td><td>#3633</td><td>fix: Move EKS workshop banner up the README</td><td>https://github.com/terraform-aws-modules/terraform-aws-eks/pull/3633</td></tr><tr><td>2026-01-20</td><td>terraform-aws-eks</td><td>#3631</td><td>feat: Added link to AWS EKS workshops</td><td>https://github.com/terraform-aws-modules/terraform-aws-eks/pull/3631</td></tr><tr><td>2026-01-16</td><td>terraform-aws-eks</td><td>#3629</td><td>docs: Correct capabilities static example in `README.md`</td><td>https://github.com/terraform-aws-modules/terraform-aws-eks/pull/3629</td></tr><tr><td>2026-01-13</td><td>terraform-aws-ecs</td><td>#389</td><td>feat: Add support for ECS Express service</td><td>https://github.com/terraform-aws-modules/terraform-aws-ecs/pull/389</td></tr><tr><td>2026-01-08</td><td>terraform-aws-ec2-instance</td><td>#467</td><td>feat: Add provider meta user-agent</td><td>https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/pull/467</td></tr><tr><td>2026-01-08</td><td>terraform-aws-iam</td><td>#632</td><td>feat: Add provider meta user-agent</td><td>https://github.com/terraform-aws-modules/terraform-aws-iam/pull/632</td></tr><tr><td>2026-01-08</td><td>terraform-aws-kms</td><td>#43</td><td>feat: Add provider meta user-agent</td><td>https://github.com/terraform-aws-modules/terraform-aws-kms/pull/43</td></tr><tr><td>2026-01-08</td><td>terraform-aws-s3-bucket</td><td>#373</td><td>feat: Add provider meta user-agent</td><td>https://github.com/terraform-aws-modules/terraform-aws-s3-bucket/pull/373</td></tr><tr><td>2026-01-08</td><td>terraform-aws-secrets-manager</td><td>#21</td><td>feat: Add provider meta user-agent</td><td>https://github.com/terraform-aws-modules/terraform-aws-secrets-manager/pull/21</td></tr><tr><td>2026-01-08</td><td>terraform-aws-vpc</td><td>#1272</td><td>feat: Add provider meta user-agent</td><td>https://github.com/terraform-aws-modules/terraform-aws-vpc/pull/1272</td></tr><tr><td>2025-12-12</td><td>terraform-aws-s3-bucket</td><td>#369</td><td>fix: Replace static `aws` partition with dynamic data source</td><td>https://github.com/terraform-aws-modules/terraform-aws-s3-bucket/pull/369</td></tr><tr><td>2025-11-26</td><td>terraform-aws-ec2-instance</td><td>#466</td><td>fix: Always pull a value from SSM data source since a computed value cannot be used in conditional logic</td><td>https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/pull/466</td></tr><tr><td>2025-11-23</td><td>terraform-aws-s3-bucket</td><td>#367</td><td>feat: Support `blocked_encryption_types` and table bucket tags</td><td>https://github.com/terraform-aws-modules/terraform-aws-s3-bucket/pull/367</td></tr><tr><td>2025-11-17</td><td>terraform-aws-vpc</td><td>#1264</td><td>fix: Correction with IAM role policy associated with modules/flow-log</td><td>https://github.com/terraform-aws-modules/terraform-aws-vpc/pull/1264</td></tr><tr><td>2025-10-29</td><td>terraform-aws-iam</td><td>#628</td><td>fix: Use the `aws_service_principal` data source to retrieve the correct service principal for IRSA policies</td><td>https://github.com/terraform-aws-modules/terraform-aws-iam/pull/628</td></tr><tr><td>2025-10-22</td><td>terraform-aws-ec2-instance</td><td>#461</td><td>fix: Allow computed values for `name`, make `timeouts` dynamic/optional</td><td>https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/pull/461</td></tr><tr><td>2025-10-21</td><td>terraform-aws-kms</td><td>#40</td><td>fix: Update CI workflow versions to latest</td><td>https://github.com/terraform-aws-modules/terraform-aws-kms/pull/40</td></tr></tbody></table><div class=\"real\"><strong>PR integration:</strong> Timeline pulled via `gh pr list --state merged --limit 3 --json number,title,mergedAt,url` across module repos.</div><table><thead><tr><th>Ops control</th><th>Implementation practice</th><th>Failure prevented</th></tr></thead><tbody><tr><td>Change window</td><td>Merge + plan freeze window</td><td>Unexpected blast radius</td></tr><tr><td>Rollback path</td><td>Saved plan/state and module pinning</td><td>Prolonged outage</td></tr><tr><td>Incident triage</td><td>Module-scoped logs + drift diff</td><td>Slow recovery</td></tr><tr><td>Post-incident</td><td>Quiz retry + runbook updates</td><td>Repeated operator mistakes</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform/docs</code></div>", "quiz": false}, {"id": "m0_quiz", "moduleId": 0, "title": "Quiz: Terraform + Terragrunt + HCL Foundations", "content": "", "quiz": true}, {"id": "m1_s1", "moduleId": 1, "title": "EC2 Module Scope and Workshop Context", "content": "<h2>EC2 Module Scope and Workshop Context</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-ec2-instance\n  -&gt; resource node: aws_instance.this\n  -&gt; data hydration: aws_availability_zones.available\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_instance\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: create\n# output: id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_instance.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s2", "moduleId": 1, "title": "Repository Tour and File Topology", "content": "<h2>Repository Tour and File Topology</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_instance\" \"ignore_ami\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: name\n# output: arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_instance.ignore_ami</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>session-manager</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s3", "moduleId": 1, "title": "Root `main.tf` Composition and Creation Flags", "content": "<h2>Root `main.tf` Composition and Creation Flags</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_spot_instance_request\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ssm_parameter\" \"this\" {}\n\n# Trait focus\n# variable: region\n# output: capacity_reservation_specification\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_spot_instance_request.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ssm_parameter.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s4", "moduleId": 1, "title": "AMI Selection Paths (`ami`, `ami_ssm_parameter`, ignore changes)", "content": "<h2>AMI Selection Paths (`ami`, `ami_ssm_parameter`, ignore changes)</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>ami</td><td>ami_ssm_parameter</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/variables.tf</td></tr><tr><td>Outputs</td><td>instance_state</td><td>outpost_arn</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/outputs.tf</td></tr><tr><td>Examples</td><td>session-manager</td><td>session-manager</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/examples/complete/main.tf</td></tr><tr><td>Wrappers</td><td>versions.tf</td><td>outputs.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/wrappers/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_ec2_tag\" \"spot_instance\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"assume_role_policy\" {}\n\n# Trait focus\n# variable: ami\n# output: instance_state\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_ec2_tag.spot_instance</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.assume_role_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>session-manager</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s5", "moduleId": 1, "title": "Instance Lifecycle Controls and Shutdown Behavior", "content": "<h2>Instance Lifecycle Controls and Shutdown Behavior</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_ebs_volume\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_subnet\" \"this\" {}\n\n# Trait focus\n# variable: ami_ssm_parameter\n# output: outpost_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_ebs_volume.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_subnet.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s6", "moduleId": 1, "title": "Capacity Reservations and Placement Strategies", "content": "<h2>Capacity Reservations and Placement Strategies</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_volume_attachment\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ami\" \"amazon_linux\" {}\n\n# Trait focus\n# variable: ignore_ami_changes\n# output: password_data\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_volume_attachment.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ami.amazon_linux</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>session-manager</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s7", "moduleId": 1, "title": "Spot Instance Request Flow and Tagging", "content": "<h2>Spot Instance Request Flow and Tagging</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_iam_role\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: associate_public_ip_address\n# output: primary_network_interface_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s8", "moduleId": 1, "title": "Block Device and EBS Volume Attachment Patterns", "content": "<h2>Block Device and EBS Volume Attachment Patterns</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-ec2-instance\n  -&gt; resource node: aws_iam_role_policy_attachment.this\n  -&gt; data hydration: aws_partition.current\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_iam_role_policy_attachment\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: availability_zone\n# output: private_dns\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>session-manager</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s9", "moduleId": 1, "title": "IAM Role, Policy Attachments, and Instance Profile Wiring", "content": "<h2>IAM Role, Policy Attachments, and Instance Profile Wiring</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_instance\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ssm_parameter\" \"this\" {}\n\n# Trait focus\n# variable: capacity_reservation_specification\n# output: public_dns\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_instance.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ssm_parameter.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s10", "moduleId": 1, "title": "Security Group Creation and Rule Modeling", "content": "<h2>Security Group Creation and Rule Modeling</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>cpu_options</td><td>cpu_credits</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/variables.tf</td></tr><tr><td>Outputs</td><td>public_ip</td><td>private_ip</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/outputs.tf</td></tr><tr><td>Examples</td><td>session-manager</td><td>session-manager</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/examples/complete/main.tf</td></tr><tr><td>Wrappers</td><td>outputs.tf</td><td>versions.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/wrappers/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_instance\" \"ignore_ami\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"assume_role_policy\" {}\n\n# Trait focus\n# variable: cpu_options\n# output: public_ip\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_instance.ignore_ami</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.assume_role_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>session-manager</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s11", "moduleId": 1, "title": "Elastic IP, Network Interface, and Subnet Interactions", "content": "<h2>Elastic IP, Network Interface, and Subnet Interactions</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_spot_instance_request\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_subnet\" \"this\" {}\n\n# Trait focus\n# variable: cpu_credits\n# output: private_ip\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_spot_instance_request.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_subnet.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s12", "moduleId": 1, "title": "Metadata Options, IMDS Hardening, and Monitoring", "content": "<h2>Metadata Options, IMDS Hardening, and Monitoring</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_ec2_tag\" \"spot_instance\" {\n  tags = var.tags\n}\n\ndata \"aws_ami\" \"amazon_linux\" {}\n\n# Trait focus\n# variable: disable_api_termination\n# output: ipv6_addresses\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_ec2_tag.spot_instance</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ami.amazon_linux</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>session-manager</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s13", "moduleId": 1, "title": "Variable Design Patterns in `variables.tf`", "content": "<h2>Variable Design Patterns in `variables.tf`</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_ebs_volume\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: disable_api_stop\n# output: tags_all\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_ebs_volume.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s14", "moduleId": 1, "title": "Output Contract Design in `outputs.tf`", "content": "<h2>Output Contract Design in `outputs.tf`</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_volume_attachment\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: ebs_optimized\n# output: spot_bid_status\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_volume_attachment.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>session-manager</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s15", "moduleId": 1, "title": "Example Deep Dive: `examples/complete`", "content": "<h2>Example Deep Dive: `examples/complete`</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_iam_role\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ssm_parameter\" \"this\" {}\n\n# Trait focus\n# variable: enclave_options_enabled\n# output: spot_request_state\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ssm_parameter.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-3.0.md, docs/UPGRADE-6.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_s16", "moduleId": 1, "title": "Example Deep Dive: `examples/session-manager` + Wrapper Usage", "content": "<h2>Example Deep Dive: `examples/session-manager` + Wrapper Usage</h2><p><strong>Module:</strong> <code>terraform-aws-ec2-instance</code></p><pre>\n# Representative sketch from terraform-aws-ec2-instance\nresource \"aws_iam_role_policy_attachment\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"assume_role_policy\" {}\n\n# Trait focus\n# variable: enable_primary_ipv6\n# output: spot_instance_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.assume_role_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>session-manager</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-3.0.md, docs/UPGRADE-6.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ec2-instance</code></div>", "quiz": false}, {"id": "m1_quiz", "moduleId": 1, "title": "Quiz: EC2 Instance Module", "content": "", "quiz": true}, {"id": "m2_s1", "moduleId": 2, "title": "ECS Module Architecture and Submodule Map", "content": "<h2>ECS Module Architecture and Submodule Map</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-ecs\n  -&gt; resource node: aws_cloudwatch_log_group.this\n  -&gt; data hydration: aws_availability_zones.available\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_cloudwatch_log_group\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: create\n# output: cluster_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_cloudwatch_log_group.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>cluster</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s2", "moduleId": 2, "title": "Root Module Split: Cluster + Service Composition", "content": "<h2>Root Module Split: Cluster + Service Composition</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_security_group\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_region\" \"current\" {}\n\n# Trait focus\n# variable: region\n# output: cluster_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_region.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>container-definition</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>container-definition</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s3", "moduleId": 2, "title": "Cluster Resource Graph (`aws_ecs_cluster`, capacity providers)", "content": "<h2>Cluster Resource Graph (`aws_ecs_cluster`, capacity providers)</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_vpc_security_group_ingress_rule\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: tags\n# output: cluster_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_security_group_ingress_rule.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>ec2-autoscaling</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>express-service</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s4", "moduleId": 2, "title": "Cluster CloudWatch Log Group Strategy", "content": "<h2>Cluster CloudWatch Log Group Strategy</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>disable_v7_default_name_description</td><td>cluster_configuration</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/cluster/main.tf</td></tr><tr><td>Outputs</td><td>cloudwatch_log_group_name</td><td>cloudwatch_log_group_arn</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/service/main.tf</td></tr><tr><td>Examples</td><td>express-service</td><td>managed-instances</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/container-definition/main.tf</td></tr><tr><td>Wrappers</td><td>main.tf</td><td>service</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ecs/examples/ec2-autoscaling/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_vpc_security_group_egress_rule\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ssm_parameter\" \"fluentbit\" {}\n\n# Trait focus\n# variable: disable_v7_default_name_description\n# output: cloudwatch_log_group_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_security_group_egress_rule.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ssm_parameter.fluentbit</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>express-service</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s5", "moduleId": 2, "title": "Cluster IAM Roles: Task Exec, Infrastructure, Node", "content": "<h2>Cluster IAM Roles: Task Exec, Infrastructure, Node</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_service_discovery_http_namespace\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ssm_parameter\" \"ecs_optimized_ami\" {}\n\n# Trait focus\n# variable: cluster_configuration\n# output: cloudwatch_log_group_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_service_discovery_http_namespace.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ssm_parameter.ecs_optimized_ami</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>fargate</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s6", "moduleId": 2, "title": "Service Submodule: ECS Service and Task Definition Flow", "content": "<h2>Service Submodule: ECS Service and Task Definition Flow</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_iam_role\" \"task_exec\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: cluster_name\n# output: cluster_capacity_providers\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.task_exec</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>managed-instances</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>service</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s7", "moduleId": 2, "title": "Task Execution Role and Task Role Policy Construction", "content": "<h2>Task Execution Role and Task Role Policy Construction</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_iam_role_policy_attachment\" \"task_exec_additional\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"task_exec_assume\" {}\n\n# Trait focus\n# variable: cluster_service_connect_defaults\n# output: capacity_providers\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.task_exec_additional</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.task_exec_assume</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s8", "moduleId": 2, "title": "Autoscaling Targets, Policies, and Scheduled Actions", "content": "<h2>Autoscaling Targets, Policies, and Scheduled Actions</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-ecs\n  -&gt; resource node: aws_iam_policy.task_exec\n  -&gt; data hydration: aws_iam_policy_document.task_exec\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_iam_policy\" \"task_exec\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"task_exec\" {}\n\n# Trait focus\n# variable: cluster_setting\n# output: task_exec_iam_role_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.task_exec</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.task_exec</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>container-definition</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s9", "moduleId": 2, "title": "Security Groups for ECS Services and Ingress Models", "content": "<h2>Security Groups for ECS Services and Ingress Models</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_cloudwatch_log_group\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: cluster_tags\n# output: task_exec_iam_role_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_cloudwatch_log_group.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>ec2-autoscaling</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>cluster</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s10", "moduleId": 2, "title": "Container Definition Module and Logging Contracts", "content": "<h2>Container Definition Module and Logging Contracts</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>create_cloudwatch_log_group</td><td>cloudwatch_log_group_name</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/cluster/main.tf</td></tr><tr><td>Outputs</td><td>task_exec_iam_role_unique_id</td><td>infrastructure_iam_role_arn</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/service/main.tf</td></tr><tr><td>Examples</td><td>express-service</td><td>managed-instances</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/container-definition/main.tf</td></tr><tr><td>Wrappers</td><td>container-definition</td><td>main.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-ecs/examples/ec2-autoscaling/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_security_group\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_region\" \"current\" {}\n\n# Trait focus\n# variable: create_cloudwatch_log_group\n# output: task_exec_iam_role_unique_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_region.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>express-service</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>container-definition</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s11", "moduleId": 2, "title": "Express Service Module Capabilities and IAM Design", "content": "<h2>Express Service Module Capabilities and IAM Design</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_vpc_security_group_ingress_rule\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: cloudwatch_log_group_name\n# output: infrastructure_iam_role_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_security_group_ingress_rule.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>fargate</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>express-service</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s12", "moduleId": 2, "title": "Fargate Example Walkthrough", "content": "<h2>Fargate Example Walkthrough</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_vpc_security_group_egress_rule\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ssm_parameter\" \"fluentbit\" {}\n\n# Trait focus\n# variable: cloudwatch_log_group_retention_in_days\n# output: infrastructure_iam_role_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_security_group_egress_rule.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ssm_parameter.fluentbit</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>managed-instances</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s13", "moduleId": 2, "title": "EC2 Autoscaling Example Walkthrough", "content": "<h2>EC2 Autoscaling Example Walkthrough</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_service_discovery_http_namespace\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ssm_parameter\" \"ecs_optimized_ami\" {}\n\n# Trait focus\n# variable: cloudwatch_log_group_kms_key_id\n# output: infrastructure_iam_role_unique_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_service_discovery_http_namespace.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ssm_parameter.ecs_optimized_ami</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s14", "moduleId": 2, "title": "Variables and Outputs API Surface for ECS", "content": "<h2>Variables and Outputs API Surface for ECS</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_iam_role\" \"task_exec\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: cloudwatch_log_group_class\n# output: node_iam_role_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.task_exec</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>container-definition</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>service</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s15", "moduleId": 2, "title": "Upgrade Strategy and Breaking Change Awareness", "content": "<h2>Upgrade Strategy and Breaking Change Awareness</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_iam_role_policy_attachment\" \"task_exec_additional\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"task_exec_assume\" {}\n\n# Trait focus\n# variable: cloudwatch_log_group_tags\n# output: node_iam_role_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.task_exec_additional</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.task_exec_assume</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>ec2-autoscaling</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/README.md, docs/UPGRADE-4.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_s16", "moduleId": 2, "title": "Wrapper Modules and Multi-Environment Usage", "content": "<h2>Wrapper Modules and Multi-Environment Usage</h2><p><strong>Module:</strong> <code>terraform-aws-ecs</code></p><pre>\n# Representative sketch from terraform-aws-ecs\nresource \"aws_iam_policy\" \"task_exec\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"task_exec\" {}\n\n# Trait focus\n# variable: cluster_capacity_providers\n# output: node_iam_role_unique_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.task_exec</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.task_exec</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>express-service</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/README.md, docs/UPGRADE-4.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-ecs</code></div>", "quiz": false}, {"id": "m2_quiz", "moduleId": 2, "title": "Quiz: ECS Module", "content": "", "quiz": true}, {"id": "m3_s1", "moduleId": 3, "title": "EKS Module Big Picture and Feature Surface", "content": "<h2>EKS Module Big Picture and Feature Surface</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-eks\n  -&gt; resource node: aws_iam_role.this\n  -&gt; data hydration: aws_availability_zones.available\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_role\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: create\n# output: cluster_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-auto-mode</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s2", "moduleId": 3, "title": "Cluster Core Resources (`aws_eks_cluster`, logs, access)", "content": "<h2>Cluster Core Resources (`aws_eks_cluster`, logs, access)</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_role_policy_attachment\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: prefix_separator\n# output: cluster_certificate_authority_data\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-capabilities</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s3", "moduleId": 3, "title": "Access Entries and Policy Association Model", "content": "<h2>Access Entries and Policy Association Model</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_role_policy_attachment\" \"additional\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: region\n# output: cluster_endpoint\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.additional</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-hybrid-nodes</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s4", "moduleId": 3, "title": "Cluster Security Group and Control Plane Network", "content": "<h2>Cluster Security Group and Control Plane Network</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>tags</td><td>name</td><td>/Users/mohannarayanaswamy/git/terraform-aws-eks/node_groups.tf</td></tr><tr><td>Outputs</td><td>cluster_id</td><td>cluster_name</td><td>/Users/mohannarayanaswamy/git/terraform-aws-eks/modules/eks-managed-node-group/main.tf</td></tr><tr><td>Examples</td><td>eks-managed-node-group</td><td>self-managed-node-group</td><td>/Users/mohannarayanaswamy/git/terraform-aws-eks/modules/self-managed-node-group/main.tf</td></tr><tr><td>Wrappers</td><td>main.tf</td><td>main.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-eks/docs/user_data.md</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_role_policy\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"assume_role_policy\" {}\n\n# Trait focus\n# variable: tags\n# output: cluster_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.assume_role_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-managed-node-group</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s5", "moduleId": 3, "title": "OIDC Provider Provisioning and IAM Integration", "content": "<h2>OIDC Provider Provisioning and IAM Integration</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_eks_access_entry\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"role\" {}\n\n# Trait focus\n# variable: name\n# output: cluster_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_eks_access_entry.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.role</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>karpenter</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s6", "moduleId": 3, "title": "Add-on Management and Before/After Compute Ordering", "content": "<h2>Add-on Management and Before/After Compute Ordering</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"time_sleep\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ami\" \"eks_default\" {}\n\n# Trait focus\n# variable: kubernetes_version\n# output: cluster_oidc_issuer_url\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>time_sleep.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ami.eks_default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>self-managed-node-group</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s7", "moduleId": 3, "title": "`node_groups.tf` Orchestration and Wait Semantics", "content": "<h2>`node_groups.tf` Orchestration and Wait Semantics</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_policy\" \"additional\" {\n  tags = var.tags\n}\n\ndata \"aws_ami\" \"eks_default_bottlerocket\" {}\n\n# Trait focus\n# variable: enabled_log_types\n# output: cluster_dualstack_oidc_issuer_url\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.additional</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ami.eks_default_bottlerocket</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-auto-mode</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s8", "moduleId": 3, "title": "Managed Node Group Submodule Deep Dive", "content": "<h2>Managed Node Group Submodule Deep Dive</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-eks\n  -&gt; resource node: aws_iam_instance_profile.this\n  -&gt; data hydration: aws_region.current\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_instance_profile\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_region\" \"current\" {}\n\n# Trait focus\n# variable: deletion_protection\n# output: cluster_version\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_instance_profile.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_region.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-capabilities</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s9", "moduleId": 3, "title": "Self-Managed Node Group Submodule Deep Dive", "content": "<h2>Self-Managed Node Group Submodule Deep Dive</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_role\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: force_update_version\n# output: cluster_platform_version\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-hybrid-nodes</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s10", "moduleId": 3, "title": "Fargate Profile Submodule Deep Dive", "content": "<h2>Fargate Profile Submodule Deep Dive</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>authentication_mode</td><td>compute_config</td><td>/Users/mohannarayanaswamy/git/terraform-aws-eks/node_groups.tf</td></tr><tr><td>Outputs</td><td>cluster_status</td><td>cluster_primary_security_group_id</td><td>/Users/mohannarayanaswamy/git/terraform-aws-eks/modules/eks-managed-node-group/main.tf</td></tr><tr><td>Examples</td><td>eks-managed-node-group</td><td>self-managed-node-group</td><td>/Users/mohannarayanaswamy/git/terraform-aws-eks/modules/self-managed-node-group/main.tf</td></tr><tr><td>Wrappers</td><td>main.tf</td><td>main.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-eks/docs/user_data.md</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_role_policy_attachment\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: authentication_mode\n# output: cluster_status\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-managed-node-group</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s11", "moduleId": 3, "title": "Karpenter Submodule (SQS, events, IAM, pod identity)", "content": "<h2>Karpenter Submodule (SQS, events, IAM, pod identity)</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_role_policy_attachment\" \"additional\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: compute_config\n# output: cluster_primary_security_group_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.additional</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>karpenter</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s12", "moduleId": 3, "title": "Capability Submodule and Time-Based Sequencing", "content": "<h2>Capability Submodule and Time-Based Sequencing</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_role_policy\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"assume_role_policy\" {}\n\n# Trait focus\n# variable: control_plane_scaling_config\n# output: cluster_service_cidr\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.assume_role_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>self-managed-node-group</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s13", "moduleId": 3, "title": "Hybrid Node Role and Roles Anywhere Pattern", "content": "<h2>Hybrid Node Role and Roles Anywhere Pattern</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_eks_access_entry\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"role\" {}\n\n# Trait focus\n# variable: upgrade_policy\n# output: cluster_ip_family\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_eks_access_entry.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.role</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-auto-mode</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s14", "moduleId": 3, "title": "User Data Generation Paths (`modules/_user_data`)", "content": "<h2>User Data Generation Paths (`modules/_user_data`)</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"time_sleep\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_ami\" \"eks_default\" {}\n\n# Trait focus\n# variable: remote_network_config\n# output: cluster_control_plane_scaling_tier\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>time_sleep.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ami.eks_default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-capabilities</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s15", "moduleId": 3, "title": "Network Connectivity and Security Guidance from docs", "content": "<h2>Network Connectivity and Security Guidance from docs</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_policy\" \"additional\" {\n  tags = var.tags\n}\n\ndata \"aws_ami\" \"eks_default_bottlerocket\" {}\n\n# Trait focus\n# variable: zonal_shift_config\n# output: access_entries\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.additional</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_ami.eks_default_bottlerocket</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-hybrid-nodes</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/CHANGELOG.pre-v11.0.0.md, docs/README.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_s16", "moduleId": 3, "title": "Upgrade and Migration Traps Across Major Versions", "content": "<h2>Upgrade and Migration Traps Across Major Versions</h2><p><strong>Module:</strong> <code>terraform-aws-eks</code></p><pre>\n# Representative sketch from terraform-aws-eks\nresource \"aws_iam_instance_profile\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_region\" \"current\" {}\n\n# Trait focus\n# variable: additional_security_group_ids\n# output: access_policy_associations\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_instance_profile.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_region.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>eks-managed-node-group</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/CHANGELOG.pre-v11.0.0.md, docs/README.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-eks</code></div>", "quiz": false}, {"id": "m3_quiz", "moduleId": 3, "title": "Quiz: EKS Module", "content": "", "quiz": true}, {"id": "m4_s1", "moduleId": 4, "title": "IAM Module Family Overview and Consolidated Architecture", "content": "<h2>IAM Module Family Overview and Consolidated Architecture</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-iam\n  -&gt; resource node: aws_iam_policy.this\n  -&gt; data hydration: aws_partition.current\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_policy\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: defaults\n# output: wrapper\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-account</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-account</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s2", "moduleId": 4, "title": "IAM Account Module (alias + password policy)", "content": "<h2>IAM Account Module (alias + password policy)</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_role\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: items\n# output: group_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-group</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-group</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s3", "moduleId": 4, "title": "IAM Group Module and MFA-Aware Policy Conditions", "content": "<h2>IAM Group Module and MFA-Aware Policy Conditions</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_role_policy_attachment\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: create\n# output: group_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-oidc-provider</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-oidc-provider</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s4", "moduleId": 4, "title": "IAM OIDC Provider Module and TLS Certificate Data", "content": "<h2>IAM OIDC Provider Module and TLS Certificate Data</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>tags</td><td>name</td><td>/Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-group/main.tf</td></tr><tr><td>Outputs</td><td>group_name</td><td>group_unique_id</td><td>/Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-oidc-provider/main.tf</td></tr><tr><td>Examples</td><td>iam-policy</td><td>iam-role</td><td>/Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-policy/main.tf</td></tr><tr><td>Wrappers</td><td>iam-policy</td><td>iam-role</td><td>/Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-user/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_role_policy\" \"inline\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"inline\" {}\n\n# Trait focus\n# variable: tags\n# output: group_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy.inline</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.inline</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-policy</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-policy</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s5", "moduleId": 4, "title": "IAM Policy Module for Custom Documents", "content": "<h2>IAM Policy Module for Custom Documents</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_policy\" \"policy\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: name\n# output: group_unique_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.policy</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-read-only-policy</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-read-only-policy</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s6", "moduleId": 4, "title": "IAM Read-Only Policy Construction", "content": "<h2>IAM Read-Only Policy Construction</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_policy\" \"additional\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"bucket_policy\" {}\n\n# Trait focus\n# variable: path\n# output: group_users\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.additional</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.bucket_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-role</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-role</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s7", "moduleId": 4, "title": "IAM Role Module: Assume Role Patterns (OIDC/GitHub/SAML)", "content": "<h2>IAM Role Module: Assume Role Patterns (OIDC/GitHub/SAML)</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_saml_provider\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_service_principal\" \"elasticloadbalancing\" {}\n\n# Trait focus\n# variable: users\n# output: group_policy_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_saml_provider.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_service_principal.elasticloadbalancing</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-role-for-service-accounts</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-role-for-service-accounts</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s8", "moduleId": 4, "title": "IAM Role Inline Policies and Attachments", "content": "<h2>IAM Role Inline Policies and Attachments</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-iam\n  -&gt; resource node: aws_iam_group.this\n  -&gt; data hydration: aws_service_principal.fsx\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_group\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_service_principal\" \"fsx\" {}\n\n# Trait focus\n# variable: create_policy\n# output: group_policy_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_group.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_service_principal.fsx</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-user</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-user</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s9", "moduleId": 4, "title": "IAM Role for Service Accounts (IRSA) Internals", "content": "<h2>IAM Role for Service Accounts (IRSA) Internals</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_policy\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: enable_self_management_permissions\n# output: group_policy_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-account</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-account</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s10", "moduleId": 4, "title": "IRSA Built-in Policy Packs and Condition Traits", "content": "<h2>IRSA Built-in Policy Packs and Condition Traits</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>enable_mfa_enforcement</td><td>permissions</td><td>/Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-group/main.tf</td></tr><tr><td>Outputs</td><td>irsa_arn</td><td>irsa_name</td><td>/Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-oidc-provider/main.tf</td></tr><tr><td>Examples</td><td>iam-group</td><td>iam-policy</td><td>/Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-policy/main.tf</td></tr><tr><td>Wrappers</td><td>iam-group</td><td>iam-policy</td><td>/Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-user/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_role\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: enable_mfa_enforcement\n# output: irsa_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-group</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-group</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s11", "moduleId": 4, "title": "IAM User Module (login profile, access key, SSH key)", "content": "<h2>IAM User Module (login profile, access key, SSH key)</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_role_policy_attachment\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: permissions\n# output: irsa_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy_attachment.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-oidc-provider</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-oidc-provider</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s12", "moduleId": 4, "title": "Example Walkthrough: OIDC Provider + Role", "content": "<h2>Example Walkthrough: OIDC Provider + Role</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_role_policy\" \"inline\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"inline\" {}\n\n# Trait focus\n# variable: policy_name\n# output: irsa_path\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role_policy.inline</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.inline</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-policy</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-policy</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s13", "moduleId": 4, "title": "Example Walkthrough: IAM Group + IAM User", "content": "<h2>Example Walkthrough: IAM Group + IAM User</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_policy\" \"policy\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: policy_use_name_prefix\n# output: irsa_unique_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.policy</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-read-only-policy</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-read-only-policy</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s14", "moduleId": 4, "title": "Variable and Output Trait Patterns Across Modules", "content": "<h2>Variable and Output Trait Patterns Across Modules</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_policy\" \"additional\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"bucket_policy\" {}\n\n# Trait focus\n# variable: policy_description\n# output: irsa_iam_policy_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_policy.additional</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.bucket_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-role</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-role</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s15", "moduleId": 4, "title": "Wrapper Modules for Repeated Deployments", "content": "<h2>Wrapper Modules for Repeated Deployments</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_saml_provider\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_service_principal\" \"elasticloadbalancing\" {}\n\n# Trait focus\n# variable: policy_path\n# output: irsa_iam_policy\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_saml_provider.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_service_principal.elasticloadbalancing</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-role-for-service-accounts</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-role-for-service-accounts</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-6.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_s16", "moduleId": 4, "title": "Upgrade Consolidation Map and Migration Planning", "content": "<h2>Upgrade Consolidation Map and Migration Planning</h2><p><strong>Module:</strong> <code>terraform-aws-iam</code></p><pre>\n# Representative sketch from terraform-aws-iam\nresource \"aws_iam_group\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_service_principal\" \"fsx\" {}\n\n# Trait focus\n# variable: policies\n# output: github_oidc_iam_provider_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_group.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_service_principal.fsx</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>iam-user</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>iam-user</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-6.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-iam</code></div>", "quiz": false}, {"id": "m4_quiz", "moduleId": 4, "title": "Quiz: IAM Module", "content": "", "quiz": true}, {"id": "m5_s1", "moduleId": 5, "title": "KMS Module Scope and Key Management Strategy", "content": "<h2>KMS Module Scope and Key Management Strategy</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-kms\n  -&gt; resource node: aws_kms_key.this\n  -&gt; data hydration: aws_caller_identity.current\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: create\n# output: key_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s2", "moduleId": 5, "title": "Resource Types: Standard, External, Replica Keys", "content": "<h2>Resource Types: Standard, External, Replica Keys</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_external_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: region\n# output: key_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_external_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s3", "moduleId": 5, "title": "Key Policy Composition from Inputs and Statements", "content": "<h2>Key Policy Composition from Inputs and Statements</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_replica_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: tags\n# output: key_region\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_replica_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s4", "moduleId": 5, "title": "Key Owners, Admins, and Service User Separation", "content": "<h2>Key Owners, Admins, and Service User Separation</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>create_external</td><td>bypass_policy_lockout_safety_check</td><td>/Users/mohannarayanaswamy/git/terraform-aws-kms/variables.tf</td></tr><tr><td>Outputs</td><td>key_policy</td><td>external_key_expiration_model</td><td>/Users/mohannarayanaswamy/git/terraform-aws-kms/outputs.tf</td></tr><tr><td>Examples</td><td>complete</td><td>complete</td><td>/Users/mohannarayanaswamy/git/terraform-aws-kms/examples/complete/main.tf</td></tr><tr><td>Wrappers</td><td>versions.tf</td><td>outputs.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-kms/examples/complete/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_replica_external_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: create_external\n# output: key_policy\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_replica_external_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s5", "moduleId": 5, "title": "Alias Management and Naming Patterns", "content": "<h2>Alias Management and Naming Patterns</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_alias\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: bypass_policy_lockout_safety_check\n# output: external_key_expiration_model\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_alias.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s6", "moduleId": 5, "title": "Grant Management and Grant Trait Modeling", "content": "<h2>Grant Management and Grant Trait Modeling</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_grant\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: customer_master_key_spec\n# output: external_key_state\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_grant.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s7", "moduleId": 5, "title": "Multi-Region Key Replication Design", "content": "<h2>Multi-Region Key Replication Design</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_iam_role\" \"lambda\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: custom_key_store_id\n# output: external_key_usage\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.lambda</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s8", "moduleId": 5, "title": "External Key Material Workflow and Validity Windows", "content": "<h2>External Key Material Workflow and Validity Windows</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-kms\n  -&gt; resource node: aws_kms_key.this\n  -&gt; data hydration: aws_partition.current\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: deletion_window_in_days\n# output: aliases\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s9", "moduleId": 5, "title": "Route53 DNSSEC Support Flow", "content": "<h2>Route53 DNSSEC Support Flow</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_external_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: description\n# output: grants\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_external_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s10", "moduleId": 5, "title": "Autoscaling Service Role Integration", "content": "<h2>Autoscaling Service Role Integration</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>enable_key_rotation</td><td>is_enabled</td><td>/Users/mohannarayanaswamy/git/terraform-aws-kms/variables.tf</td></tr><tr><td>Outputs</td><td>wrapper</td><td>complete_key_arn</td><td>/Users/mohannarayanaswamy/git/terraform-aws-kms/outputs.tf</td></tr><tr><td>Examples</td><td>complete</td><td>complete</td><td>/Users/mohannarayanaswamy/git/terraform-aws-kms/examples/complete/main.tf</td></tr><tr><td>Wrappers</td><td>outputs.tf</td><td>versions.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-kms/examples/complete/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_replica_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: enable_key_rotation\n# output: wrapper\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_replica_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s11", "moduleId": 5, "title": "Variable Traits: Rotation, Deletion Window, Key Usage", "content": "<h2>Variable Traits: Rotation, Deletion Window, Key Usage</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_replica_external_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: is_enabled\n# output: complete_key_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_replica_external_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s12", "moduleId": 5, "title": "Data Source Usage (`aws_partition`, `aws_caller_identity`)", "content": "<h2>Data Source Usage (`aws_partition`, `aws_caller_identity`)</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_alias\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: key_material_base64\n# output: complete_key_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_alias.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s13", "moduleId": 5, "title": "Output Contract and Downstream Consumption", "content": "<h2>Output Contract and Downstream Consumption</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_grant\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: key_usage\n# output: complete_key_policy\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_grant.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s14", "moduleId": 5, "title": "Example: Complete KMS Deployment Walkthrough", "content": "<h2>Example: Complete KMS Deployment Walkthrough</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_iam_role\" \"lambda\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: multi_region\n# output: complete_external_key_expiration_model\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_iam_role.lambda</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s15", "moduleId": 5, "title": "Failure Modes and Safe Policy Design", "content": "<h2>Failure Modes and Safe Policy Design</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: policy\n# output: complete_external_key_state\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-4.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_s16", "moduleId": 5, "title": "Upgrade Notes and State Migration Considerations", "content": "<h2>Upgrade Notes and State Migration Considerations</h2><p><strong>Module:</strong> <code>terraform-aws-kms</code></p><pre>\n# Representative sketch from terraform-aws-kms\nresource \"aws_kms_external_key\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: valid_to\n# output: complete_external_key_usage\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_external_key.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-4.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-kms</code></div>", "quiz": false}, {"id": "m5_quiz", "moduleId": 5, "title": "Quiz: KMS Module", "content": "", "quiz": true}, {"id": "m6_s1", "moduleId": 6, "title": "S3 Module Surface Area and Multi-Mode Buckets", "content": "<h2>S3 Module Surface Area and Multi-Mode Buckets</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-s3-bucket\n  -&gt; resource node: random_pet.this\n  -&gt; data hydration: aws_caller_identity.current\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"random_pet\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: create_bucket\n# output: s3_bucket_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>random_pet.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>account-public-access</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>account-public-access</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s2", "moduleId": 6, "title": "Core Bucket Resource and Conditional Creation Logic", "content": "<h2>Core Bucket Resource and Conditional Creation Logic</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_kms_key\" \"objects\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"bucket_policy\" {}\n\n# Trait focus\n# variable: attach_elb_log_delivery_policy\n# output: s3_bucket_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_key.objects</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.bucket_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s3", "moduleId": 6, "title": "Directory Bucket and Table Bucket Paths", "content": "<h2>Directory Bucket and Table Bucket Paths</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_region\" \"current\" {}\n\n# Trait focus\n# variable: attach_lb_log_delivery_policy\n# output: s3_bucket_bucket_domain_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_region.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>directory-bucket</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>notification</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s4", "moduleId": 6, "title": "ACL, Ownership Controls, and Public Access Blocks", "content": "<h2>ACL, Ownership Controls, and Public Access Blocks</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>attach_access_log_delivery_policy</td><td>attach_cloudtrail_log_delivery_policy</td><td>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/account-public-access/main.tf</td></tr><tr><td>Outputs</td><td>s3_bucket_bucket_regional_domain_name</td><td>s3_bucket_hosted_zone_id</td><td>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/notification/main.tf</td></tr><tr><td>Examples</td><td>notification</td><td>s3-analytics</td><td>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/object/main.tf</td></tr><tr><td>Wrappers</td><td>object</td><td>table-bucket</td><td>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/examples/notification/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_directory_bucket\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_canonical_user_id\" \"this\" {}\n\n# Trait focus\n# variable: attach_access_log_delivery_policy\n# output: s3_bucket_bucket_regional_domain_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_directory_bucket.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_canonical_user_id.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>notification</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>object</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s5", "moduleId": 6, "title": "Versioning, Encryption, and Object Lock Controls", "content": "<h2>Versioning, Encryption, and Object Lock Controls</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket_logging\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: attach_cloudtrail_log_delivery_policy\n# output: s3_bucket_hosted_zone_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket_logging.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>object</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s6", "moduleId": 6, "title": "Lifecycle, Intelligent Tiering, and Metrics Configuration", "content": "<h2>Lifecycle, Intelligent Tiering, and Metrics Configuration</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket_acl\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"combined\" {}\n\n# Trait focus\n# variable: attach_deny_insecure_transport_policy\n# output: s3_bucket_lifecycle_configuration_rules\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket_acl.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.combined</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>s3-analytics</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>table-bucket</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s7", "moduleId": 6, "title": "Replication Configuration and Cross-Bucket Dependencies", "content": "<h2>Replication Configuration and Cross-Bucket Dependencies</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket_website_configuration\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"elb_log_delivery\" {}\n\n# Trait focus\n# variable: attach_require_latest_tls_policy\n# output: s3_bucket_policy\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket_website_configuration.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.elb_log_delivery</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>s3-inventory</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s8", "moduleId": 6, "title": "Logging, Request Payer, and Access Log Delivery Policies", "content": "<h2>Logging, Request Payer, and Access Log Delivery Policies</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-s3-bucket\n  -&gt; resource node: aws_s3_bucket_versioning.this\n  -&gt; data hydration: aws_iam_policy_document.lb_log_delivery\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket_versioning\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"lb_log_delivery\" {}\n\n# Trait focus\n# variable: attach_policy\n# output: s3_bucket_region\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket_versioning.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.lb_log_delivery</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>s3-replication</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s9", "moduleId": 6, "title": "Policy Assembly (`combined` and deny policies)", "content": "<h2>Policy Assembly (`combined` and deny policies)</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"random_pet\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: attach_public_policy\n# output: s3_bucket_website_endpoint\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>random_pet.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>table-bucket</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>account-public-access</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s10", "moduleId": 6, "title": "Notification Submodule (Lambda, SQS, SNS permissions)", "content": "<h2>Notification Submodule (Lambda, SQS, SNS permissions)</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>attach_inventory_destination_policy</td><td>attach_analytics_destination_policy</td><td>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/account-public-access/main.tf</td></tr><tr><td>Outputs</td><td>s3_bucket_website_domain</td><td>s3_directory_bucket_name</td><td>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/notification/main.tf</td></tr><tr><td>Examples</td><td>account-public-access</td><td>directory-bucket</td><td>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/object/main.tf</td></tr><tr><td>Wrappers</td><td>main.tf</td><td>object</td><td>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/examples/notification/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_kms_key\" \"objects\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"bucket_policy\" {}\n\n# Trait focus\n# variable: attach_inventory_destination_policy\n# output: s3_bucket_website_domain\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_kms_key.objects</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.bucket_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>account-public-access</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s11", "moduleId": 6, "title": "Object Submodule and Object-Level Delivery Traits", "content": "<h2>Object Submodule and Object-Level Delivery Traits</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_region\" \"current\" {}\n\n# Trait focus\n# variable: attach_analytics_destination_policy\n# output: s3_directory_bucket_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_region.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>notification</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s12", "moduleId": 6, "title": "Account Public Access Submodule Behavior", "content": "<h2>Account Public Access Submodule Behavior</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_directory_bucket\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_canonical_user_id\" \"this\" {}\n\n# Trait focus\n# variable: attach_deny_incorrect_encryption_headers\n# output: s3_directory_bucket_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_directory_bucket.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_canonical_user_id.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>directory-bucket</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>object</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s13", "moduleId": 6, "title": "Table Bucket Submodule and S3 Tables Resources", "content": "<h2>Table Bucket Submodule and S3 Tables Resources</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket_logging\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: attach_deny_incorrect_kms_key_sse\n# output: aws_s3_bucket_versioning_status\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket_logging.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>notification</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s14", "moduleId": 6, "title": "Example Deep Dive: Replication + Notification Patterns", "content": "<h2>Example Deep Dive: Replication + Notification Patterns</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket_acl\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"combined\" {}\n\n# Trait focus\n# variable: allowed_kms_key_arn\n# output: s3_bucket_tags\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket_acl.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.combined</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>object</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>table-bucket</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s15", "moduleId": 6, "title": "Variable Traits and Defensive Defaults", "content": "<h2>Variable Traits and Defensive Defaults</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket_website_configuration\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"elb_log_delivery\" {}\n\n# Trait focus\n# variable: attach_deny_unencrypted_object_uploads\n# output: wrapper\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket_website_configuration.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.elb_log_delivery</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>s3-analytics</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-3.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_s16", "moduleId": 6, "title": "Upgrade and Import Migration Considerations", "content": "<h2>Upgrade and Import Migration Considerations</h2><p><strong>Module:</strong> <code>terraform-aws-s3-bucket</code></p><pre>\n# Representative sketch from terraform-aws-s3-bucket\nresource \"aws_s3_bucket_versioning\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"lb_log_delivery\" {}\n\n# Trait focus\n# variable: attach_deny_ssec_encrypted_object_uploads\n# output: s3_account_public_access_block_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_s3_bucket_versioning.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.lb_log_delivery</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>s3-inventory</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-3.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-s3-bucket</code></div>", "quiz": false}, {"id": "m6_quiz", "moduleId": 6, "title": "Quiz: S3 Bucket Module", "content": "", "quiz": true}, {"id": "m7_s1", "moduleId": 7, "title": "Secrets Manager Module Purpose and Scope", "content": "<h2>Secrets Manager Module Purpose and Scope</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-secrets-manager\n  -&gt; resource node: aws_secretsmanager_secret.this\n  -&gt; data hydration: aws_iam_policy_document.this\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: create\n# output: secret_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s2", "moduleId": 7, "title": "Secret Resource Creation and Naming Patterns", "content": "<h2>Secret Resource Creation and Naming Patterns</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_policy\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: region\n# output: secret_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_policy.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s3", "moduleId": 7, "title": "Secret Policy Construction with IAM Policy Documents", "content": "<h2>Secret Policy Construction with IAM Policy Documents</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_version\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: tags\n# output: secret_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_version.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s4", "moduleId": 7, "title": "Secret Version Strategies (`normal` vs `ignore_changes`)", "content": "<h2>Secret Version Strategies (`normal` vs `ignore_changes`)</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>description</td><td>force_overwrite_replica_secret</td><td>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/variables.tf</td></tr><tr><td>Outputs</td><td>secret_replica</td><td>secret_string</td><td>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/outputs.tf</td></tr><tr><td>Examples</td><td>complete</td><td>complete</td><td>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/examples/complete/main.tf</td></tr><tr><td>Wrappers</td><td>versions.tf</td><td>outputs.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/outputs.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_version\" \"ignore_changes\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: description\n# output: secret_replica\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_version.ignore_changes</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s5", "moduleId": 7, "title": "Secret String, Binary, and Write-Only Traits", "content": "<h2>Secret String, Binary, and Write-Only Traits</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_rotation\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: force_overwrite_replica_secret\n# output: secret_string\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_rotation.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s6", "moduleId": 7, "title": "Random Password Generation Controls", "content": "<h2>Random Password Generation Controls</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: kms_key_id\n# output: secret_binary\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s7", "moduleId": 7, "title": "KMS Key Integration and Encryption Boundaries", "content": "<h2>KMS Key Integration and Encryption Boundaries</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_policy\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: name\n# output: secret_version_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_policy.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s8", "moduleId": 7, "title": "Rotation Enablement and Lambda Rotation Wiring", "content": "<h2>Rotation Enablement and Lambda Rotation Wiring</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-secrets-manager\n  -&gt; resource node: aws_secretsmanager_secret_version.this\n  -&gt; data hydration: aws_caller_identity.current\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_version\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: name_prefix\n# output: wrapper\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_version.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s9", "moduleId": 7, "title": "Replica Configuration and Recovery Windows", "content": "<h2>Replica Configuration and Recovery Windows</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_version\" \"ignore_changes\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: recovery_window_in_days\n# output: standard_secret_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_version.ignore_changes</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s10", "moduleId": 7, "title": "Block Public Policy and Guardrails", "content": "<h2>Block Public Policy and Guardrails</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>replica</td><td>create_policy</td><td>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/variables.tf</td></tr><tr><td>Outputs</td><td>standard_secret_id</td><td>standard_secret_name</td><td>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/outputs.tf</td></tr><tr><td>Examples</td><td>complete</td><td>complete</td><td>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/examples/complete/main.tf</td></tr><tr><td>Wrappers</td><td>outputs.tf</td><td>versions.tf</td><td>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/outputs.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_rotation\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: replica\n# output: standard_secret_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_rotation.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s11", "moduleId": 7, "title": "Version Stages and Version Lifecycle Behavior", "content": "<h2>Version Stages and Version Lifecycle Behavior</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: create_policy\n# output: standard_secret_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s12", "moduleId": 7, "title": "Variables API Surface and Consumer Contracts", "content": "<h2>Variables API Surface and Consumer Contracts</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_policy\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: source_policy_documents\n# output: standard_secret_replica\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_policy.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s13", "moduleId": 7, "title": "Outputs and Downstream Integrations", "content": "<h2>Outputs and Downstream Integrations</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_version\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: override_policy_documents\n# output: standard_secret_version_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_version.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s14", "moduleId": 7, "title": "Example Walkthrough: Standard + Rotation", "content": "<h2>Example Walkthrough: Standard + Rotation</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_version\" \"ignore_changes\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: policy_statements\n# output: standard_secret_string\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_version.ignore_changes</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s15", "moduleId": 7, "title": "Operational Risks (drift, accidental overwrite, staging)", "content": "<h2>Operational Risks (drift, accidental overwrite, staging)</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret_rotation\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"this\" {}\n\n# Trait focus\n# variable: block_public_policy\n# output: rotate_secret_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret_rotation.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.this</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Pin provider/module versions and run import/state validation drills before major refactors.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_s16", "moduleId": 7, "title": "Production Hardening Checklist for Secrets Lifecycle", "content": "<h2>Production Hardening Checklist for Secrets Lifecycle</h2><p><strong>Module:</strong> <code>terraform-aws-secrets-manager</code></p><pre>\n# Representative sketch from terraform-aws-secrets-manager\nresource \"aws_secretsmanager_secret\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: ignore_secret_changes\n# output: rotate_secret_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_secretsmanager_secret.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Pin provider/module versions and run import/state validation drills before major refactors.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-secrets-manager</code></div>", "quiz": false}, {"id": "m7_quiz", "moduleId": 7, "title": "Quiz: Secrets Manager Module", "content": "", "quiz": true}, {"id": "m8_s1", "moduleId": 8, "title": "Security Group Module Design and Rule Abstractions", "content": "<h2>Security Group Module Design and Rule Abstractions</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-security-group\n  -&gt; resource node: aws_security_group.this\n  -&gt; data hydration: aws_vpc.default\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_vpc\" \"default\" {}\n\n# Trait focus\n# variable: rules\n# output: security_group_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_vpc.default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>_templates</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s2", "moduleId": 8, "title": "Root SG Creation Modes (`create_sg`, external SG ID)", "content": "<h2>Root SG Creation Modes (`create_sg`, external SG ID)</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group\" \"this_name_prefix\" {\n  tags = var.tags\n}\n\ndata \"aws_security_group\" \"default\" {}\n\n# Trait focus\n# variable: auto_groups\n# output: security_group_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group.this_name_prefix</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_security_group.default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>computed</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>activemq</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s3", "moduleId": 8, "title": "Rule Taxonomy from `rules.tf` and `auto_groups`", "content": "<h2>Rule Taxonomy from `rules.tf` and `auto_groups`</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"ingress_rules\" {\n  tags = var.tags\n}\n\ndata \"aws_prefix_list\" \"s3\" {}\n\n# Trait focus\n# variable: create\n# output: security_group_vpc_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.ingress_rules</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_prefix_list.s3</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>disabled</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>alertmanager</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s4", "moduleId": 8, "title": "Ingress Rule Patterns (CIDR, source SG, self, prefix list)", "content": "<h2>Ingress Rule Patterns (CIDR, source SG, self, prefix list)</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>create_sg</td><td>security_group_id</td><td>/Users/mohannarayanaswamy/git/terraform-aws-security-group/rules.tf</td></tr><tr><td>Outputs</td><td>security_group_owner_id</td><td>security_group_name</td><td>/Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/http-80/main.tf</td></tr><tr><td>Examples</td><td>dynamic</td><td>rules-only</td><td>/Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/mysql/main.tf</td></tr><tr><td>Wrappers</td><td>carbon-relay-ng</td><td>consul</td><td>/Users/mohannarayanaswamy/git/terraform-aws-security-group/examples/complete/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"computed_ingress_rules\" {\n  tags = var.tags\n}\n\ndata \"aws_prefix_list\" \"dynamodb\" {}\n\n# Trait focus\n# variable: create_sg\n# output: security_group_owner_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.computed_ingress_rules</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_prefix_list.dynamodb</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>dynamic</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>carbon-relay-ng</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s5", "moduleId": 8, "title": "Egress Rule Patterns and Symmetry Controls", "content": "<h2>Egress Rule Patterns and Symmetry Controls</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"ingress_with_source_security_group_id\" {\n  tags = var.tags\n}\n\ndata \"aws_vpc\" \"default\" {}\n\n# Trait focus\n# variable: security_group_id\n# output: security_group_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.ingress_with_source_security_group_id</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_vpc.default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>http</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>cassandra</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s6", "moduleId": 8, "title": "Computed Rule Variants and Count-Based Handling", "content": "<h2>Computed Rule Variants and Count-Based Handling</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"computed_ingress_with_source_security_group_id\" {\n  tags = var.tags\n}\n\ndata \"aws_security_group\" \"default\" {}\n\n# Trait focus\n# variable: vpc_id\n# output: security_group_description\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.computed_ingress_with_source_security_group_id</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_security_group.default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>rules-only</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>consul</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s7", "moduleId": 8, "title": "Dynamic Rule Authoring and Reusable Rule Objects", "content": "<h2>Dynamic Rule Authoring and Reusable Rule Objects</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"ingress_with_cidr_blocks\" {\n  tags = var.tags\n}\n\ndata \"aws_prefix_list\" \"s3\" {}\n\n# Trait focus\n# variable: name\n# output: wrapper\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.ingress_with_cidr_blocks</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_prefix_list.s3</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>dax-cluster</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s8", "moduleId": 8, "title": "Prefix List and Managed Prefix List Behaviors", "content": "<h2>Prefix List and Managed Prefix List Behaviors</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-security-group\n  -&gt; resource node: aws_security_group_rule.computed_ingress_with_cidr_blocks\n  -&gt; data hydration: aws_prefix_list.dynamodb\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"computed_ingress_with_cidr_blocks\" {\n  tags = var.tags\n}\n\ndata \"aws_prefix_list\" \"dynamodb\" {}\n\n# Trait focus\n# variable: use_name_prefix\n# output: service_one_security_group_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.computed_ingress_with_cidr_blocks</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_prefix_list.dynamodb</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>computed</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>docker-swarm</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s9", "moduleId": 8, "title": "Named Service Modules (`http-80`, `mysql`, `kubernetes-api`)", "content": "<h2>Named Service Modules (`http-80`, `mysql`, `kubernetes-api`)</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_vpc\" \"default\" {}\n\n# Trait focus\n# variable: description\n# output: service_one_security_group_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_vpc.default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>disabled</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>elasticsearch</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s10", "moduleId": 8, "title": "Massive Wrapper Ecosystem and Reuse Strategy", "content": "<h2>Massive Wrapper Ecosystem and Reuse Strategy</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>revoke_rules_on_delete</td><td>tags</td><td>/Users/mohannarayanaswamy/git/terraform-aws-security-group/rules.tf</td></tr><tr><td>Outputs</td><td>service_tow_security_group_arn</td><td>service_two_security_group_id</td><td>/Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/http-80/main.tf</td></tr><tr><td>Examples</td><td>dynamic</td><td>rules-only</td><td>/Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/mysql/main.tf</td></tr><tr><td>Wrappers</td><td>etcd</td><td>graphite-statsd</td><td>/Users/mohannarayanaswamy/git/terraform-aws-security-group/examples/complete/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group\" \"this_name_prefix\" {\n  tags = var.tags\n}\n\ndata \"aws_security_group\" \"default\" {}\n\n# Trait focus\n# variable: revoke_rules_on_delete\n# output: service_tow_security_group_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group.this_name_prefix</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_security_group.default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>dynamic</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>etcd</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s11", "moduleId": 8, "title": "Rule Conflict and Drift Troubleshooting", "content": "<h2>Rule Conflict and Drift Troubleshooting</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"ingress_rules\" {\n  tags = var.tags\n}\n\ndata \"aws_prefix_list\" \"s3\" {}\n\n# Trait focus\n# variable: tags\n# output: service_two_security_group_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.ingress_rules</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_prefix_list.s3</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>http</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>grafana</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s12", "moduleId": 8, "title": "Timeouts, Deletion Behavior, and Revoke Semantics", "content": "<h2>Timeouts, Deletion Behavior, and Revoke Semantics</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"computed_ingress_rules\" {\n  tags = var.tags\n}\n\ndata \"aws_prefix_list\" \"dynamodb\" {}\n\n# Trait focus\n# variable: create_timeout\n# output: security_group_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.computed_ingress_rules</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_prefix_list.dynamodb</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>rules-only</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>graphite-statsd</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s13", "moduleId": 8, "title": "Output Traits and SG ID/ARN Contract", "content": "<h2>Output Traits and SG ID/ARN Contract</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"ingress_with_source_security_group_id\" {\n  tags = var.tags\n}\n\ndata \"aws_vpc\" \"default\" {}\n\n# Trait focus\n# variable: delete_timeout\n# output: security_group_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.ingress_with_source_security_group_id</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_vpc.default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>_templates</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s14", "moduleId": 8, "title": "Example Deep Dive: Complete + Dynamic", "content": "<h2>Example Deep Dive: Complete + Dynamic</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"computed_ingress_with_source_security_group_id\" {\n  tags = var.tags\n}\n\ndata \"aws_security_group\" \"default\" {}\n\n# Trait focus\n# variable: ingress_rules\n# output: security_group_vpc_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.computed_ingress_with_source_security_group_id</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_security_group.default</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>computed</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>activemq</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s15", "moduleId": 8, "title": "Scaling SG Rules Across Large Estates", "content": "<h2>Scaling SG Rules Across Large Estates</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"ingress_with_cidr_blocks\" {\n  tags = var.tags\n}\n\ndata \"aws_prefix_list\" \"s3\" {}\n\n# Trait focus\n# variable: ingress_with_self\n# output: security_group_owner_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.ingress_with_cidr_blocks</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_prefix_list.s3</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>disabled</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>alertmanager</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Pin provider/module versions and run import/state validation drills before major refactors.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_s16", "moduleId": 8, "title": "Best Practices for Safe Rule Evolution", "content": "<h2>Best Practices for Safe Rule Evolution</h2><p><strong>Module:</strong> <code>terraform-aws-security-group</code></p><pre>\n# Representative sketch from terraform-aws-security-group\nresource \"aws_security_group_rule\" \"computed_ingress_with_cidr_blocks\" {\n  tags = var.tags\n}\n\ndata \"aws_prefix_list\" \"dynamodb\" {}\n\n# Trait focus\n# variable: ingress_with_cidr_blocks\n# output: security_group_name\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_security_group_rule.computed_ingress_with_cidr_blocks</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_prefix_list.dynamodb</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>dynamic</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>carbon-relay-ng</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Pin provider/module versions and run import/state validation drills before major refactors.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-security-group</code></div>", "quiz": false}, {"id": "m8_quiz", "moduleId": 8, "title": "Quiz: Security Group Module", "content": "", "quiz": true}, {"id": "m9_s1", "moduleId": 9, "title": "VPC Module Architecture and Subnet Taxonomy", "content": "<h2>VPC Module Architecture and Subnet Taxonomy</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-vpc\n  -&gt; resource node: aws_flow_log.this\n  -&gt; data hydration: aws_availability_zones.available\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_flow_log\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: create_vpc\n# output: vpc_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_flow_log.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>block-public-access</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>flow-log</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s2", "moduleId": 9, "title": "Core VPC Creation and CIDR Association", "content": "<h2>Core VPC Creation and CIDR Association</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_cloudwatch_log_group\" \"flow_log\" {\n  tags = var.tags\n}\n\ndata \"aws_region\" \"current\" {}\n\n# Trait focus\n# variable: region\n# output: vpc_arn\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_cloudwatch_log_group.flow_log</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_region.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s3", "moduleId": 9, "title": "Public Subnet, Routes, and Internet Gateway Flow", "content": "<h2>Public Subnet, Routes, and Internet Gateway Flow</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: tags\n# output: vpc_cidr_block\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>flow-log</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s4", "moduleId": 9, "title": "Private Subnet, NAT Gateway, and DNS64 Patterns", "content": "<h2>Private Subnet, NAT Gateway, and DNS64 Patterns</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>name</td><td>cidr</td><td>/Users/mohannarayanaswamy/git/terraform-aws-vpc/vpc-flow-logs.tf</td></tr><tr><td>Outputs</td><td>default_security_group_id</td><td>default_network_acl_id</td><td>/Users/mohannarayanaswamy/git/terraform-aws-vpc/modules/flow-log/main.tf</td></tr><tr><td>Examples</td><td>ipam</td><td>ipv6-only</td><td>/Users/mohannarayanaswamy/git/terraform-aws-vpc/modules/vpc-endpoints/main.tf</td></tr><tr><td>Wrappers</td><td>variables.tf</td><td>vpc-endpoints</td><td>/Users/mohannarayanaswamy/git/terraform-aws-vpc/examples/separate-route-tables/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_ipv4_cidr_block_association\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: name\n# output: default_security_group_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_ipv4_cidr_block_association.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>ipam</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s5", "moduleId": 9, "title": "Database Subnet and DB Route/NACL Patterns", "content": "<h2>Database Subnet and DB Route/NACL Patterns</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_block_public_access_options\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"flow_log_cloudwatch_assume_role\" {}\n\n# Trait focus\n# variable: cidr\n# output: default_network_acl_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_block_public_access_options.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.flow_log_cloudwatch_assume_role</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>ipv6-dualstack</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s6", "moduleId": 9, "title": "Redshift and ElastiCache Subnet Architectures", "content": "<h2>Redshift and ElastiCache Subnet Architectures</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_block_public_access_exclusion\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"vpc_flow_log_cloudwatch\" {}\n\n# Trait focus\n# variable: secondary_cidr_blocks\n# output: default_route_table_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_block_public_access_exclusion.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.vpc_flow_log_cloudwatch</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>ipv6-only</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>vpc-endpoints</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s7", "moduleId": 9, "title": "Intra and Outpost Subnet Patterns", "content": "<h2>Intra and Outpost Subnet Patterns</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_dhcp_options\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_outposts_outpost\" \"shared\" {}\n\n# Trait focus\n# variable: instance_tenancy\n# output: vpc_instance_tenancy\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_dhcp_options.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_outposts_outpost.shared</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>issues</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>flow-log</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s8", "moduleId": 9, "title": "DHCP Options and VPC-Level Service Settings", "content": "<h2>DHCP Options and VPC-Level Service Settings</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><div class=\"diagram\">\nClient change request\n  -&gt; module graph: terraform-aws-vpc\n  -&gt; resource node: aws_vpc_dhcp_options_association.this\n  -&gt; data hydration: aws_iam_policy_document.dynamodb_endpoint_policy\n  -&gt; outputs consumed by downstream modules\n</div><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_dhcp_options_association\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"dynamodb_endpoint_policy\" {}\n\n# Trait focus\n# variable: azs\n# output: vpc_enable_dns_support\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_dhcp_options_association.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.dynamodb_endpoint_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>manage-default-vpc</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s9", "moduleId": 9, "title": "Network ACL Design Across Subnet Classes", "content": "<h2>Network ACL Design Across Subnet Classes</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_flow_log\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_availability_zones\" \"available\" {}\n\n# Trait focus\n# variable: enable_dns_hostnames\n# output: vpc_enable_dns_hostnames\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_flow_log.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_availability_zones.available</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>network-acls</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s10", "moduleId": 9, "title": "IPv6 and Dualstack Strategies", "content": "<h2>IPv6 and Dualstack Strategies</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><table><thead><tr><th>Trait group</th><th>Primary</th><th>Secondary</th><th>Reference</th></tr></thead><tbody><tr><td>Input variables</td><td>enable_dns_support</td><td>enable_network_address_usage_metrics</td><td>/Users/mohannarayanaswamy/git/terraform-aws-vpc/vpc-flow-logs.tf</td></tr><tr><td>Outputs</td><td>vpc_main_route_table_id</td><td>vpc_ipv6_association_id</td><td>/Users/mohannarayanaswamy/git/terraform-aws-vpc/modules/flow-log/main.tf</td></tr><tr><td>Examples</td><td>outpost</td><td>separate-route-tables</td><td>/Users/mohannarayanaswamy/git/terraform-aws-vpc/modules/vpc-endpoints/main.tf</td></tr><tr><td>Wrappers</td><td>variables.tf</td><td>vpc-endpoints</td><td>/Users/mohannarayanaswamy/git/terraform-aws-vpc/examples/separate-route-tables/main.tf</td></tr></tbody></table><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_cloudwatch_log_group\" \"flow_log\" {\n  tags = var.tags\n}\n\ndata \"aws_region\" \"current\" {}\n\n# Trait focus\n# variable: enable_dns_support\n# output: vpc_main_route_table_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_cloudwatch_log_group.flow_log</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_region.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>outpost</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s11", "moduleId": 9, "title": "Flow Logs in Root and Submodule Implementations", "content": "<h2>Flow Logs in Root and Submodule Implementations</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_caller_identity\" \"current\" {}\n\n# Trait focus\n# variable: enable_network_address_usage_metrics\n# output: vpc_ipv6_association_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_caller_identity.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>secondary-cidr-blocks</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>versions.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s12", "moduleId": 9, "title": "Flow Log IAM Role/Policy Construction", "content": "<h2>Flow Log IAM Role/Policy Construction</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_ipv4_cidr_block_association\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_partition\" \"current\" {}\n\n# Trait focus\n# variable: use_ipam_pool\n# output: vpc_ipv6_cidr_block\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_ipv4_cidr_block_association.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_partition.current</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>separate-route-tables</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>vpc-endpoints</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s13", "moduleId": 9, "title": "VPC Endpoints Submodule and Endpoint SG Handling", "content": "<h2>VPC Endpoints Submodule and Endpoint SG Handling</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_block_public_access_options\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"flow_log_cloudwatch_assume_role\" {}\n\n# Trait focus\n# variable: ipv4_ipam_pool_id\n# output: vpc_secondary_cidr_blocks\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_block_public_access_options.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.flow_log_cloudwatch_assume_role</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>block-public-access</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>flow-log</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s14", "moduleId": 9, "title": "IPAM-Based CIDR Allocation Examples", "content": "<h2>IPAM-Based CIDR Allocation Examples</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_block_public_access_exclusion\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"vpc_flow_log_cloudwatch\" {}\n\n# Trait focus\n# variable: ipv4_netmask_length\n# output: vpc_owner_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_block_public_access_exclusion.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.vpc_flow_log_cloudwatch</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>complete</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>main.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"warn\"><strong>Troubleshooting:</strong> Validate dependency edges, provider auth, and state drift before apply. For unstable plans, compare module root with examples and wrappers.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s15", "moduleId": 9, "title": "Default VPC Management and Safe Adoption", "content": "<h2>Default VPC Management and Safe Adoption</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_dhcp_options\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_outposts_outpost\" \"shared\" {}\n\n# Trait focus\n# variable: enable_ipv6\n# output: vpc_block_public_access_exclusions\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_dhcp_options.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_outposts_outpost.shared</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>flow-log</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>outputs.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-3.0.md, docs/UPGRADE-4.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_s16", "moduleId": 9, "title": "Upgrade and State Transition Considerations", "content": "<h2>Upgrade and State Transition Considerations</h2><p><strong>Module:</strong> <code>terraform-aws-vpc</code></p><pre>\n# Representative sketch from terraform-aws-vpc\nresource \"aws_vpc_dhcp_options_association\" \"this\" {\n  tags = var.tags\n}\n\ndata \"aws_iam_policy_document\" \"dynamodb_endpoint_policy\" {}\n\n# Trait focus\n# variable: ipv6_cidr\n# output: dhcp_options_id\n</pre><table><thead><tr><th>Signal</th><th>Observed value</th><th>Operational use</th></tr></thead><tbody><tr><td>Primary resource</td><td>aws_vpc_dhcp_options_association.this</td><td>Graph/debug anchor during plan review</td></tr><tr><td>Primary data source</td><td>aws_iam_policy_document.dynamodb_endpoint_policy</td><td>Provider lookup or policy rendering</td></tr><tr><td>Example path</td><td>ipam</td><td>Hands-on reproduction scenario</td></tr><tr><td>Wrapper path</td><td>variables.tf</td><td>Environment-scale reuse pattern</td></tr></tbody></table><div class=\"real\"><strong>Upgrade/Migration:</strong> Review <code>docs/UPGRADE-3.0.md, docs/UPGRADE-4.0.md</code> and stage state moves in lower environments before production rollout.</div><div class=\"tip\"><strong>Path reference:</strong> <code>/Users/mohannarayanaswamy/git/terraform-aws-vpc</code></div>", "quiz": false}, {"id": "m9_quiz", "moduleId": 9, "title": "Quiz: VPC Module", "content": "", "quiz": true}];
const QUIZ_DATA = {"title": "Terraform AWS Modules Workshop Quiz", "version": "2.0", "totalQuestions": 150, "modules": [{"id": 0, "name": "Terraform + Terragrunt + HCL Foundations", "questions": [{"id": "q0_1", "question": "Which localStorage key must be used by the workshop runtime?", "options": ["terraform_aws_modules_workshop", "terraform-workshop-store", "iac_quiz_runtime", "terraform_workshop_2026"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_2", "question": "Which control opens or closes the TOC drawer in the workshop UI?", "options": ["Key T", "Key Q", "Key O", "Key C"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_3", "question": "What should happen after a correct quiz answer in the workshop runtime?", "options": ["Green feedback then auto-advance in about 1.2 seconds", "Immediate full-page reload", "Manual next only", "Navigate back to module intro"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_4", "question": "Which CSS class name marks a correct option button in quiz mode?", "options": ["quiz-opt correct", "quiz-answer pass", "option ok", "answer-green"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_5", "question": "Which Terraform core doc explains planning action categories like create/update/replace?", "options": ["/Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md", "/Users/mohannarayanaswamy/git/terraform/docs/architecture.md", "/Users/mohannarayanaswamy/git/terraform/docs/destroying.md", "/Users/mohannarayanaswamy/git/terraform/docs/README.md"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q0_6", "question": "Which Terraform core doc is the primary reference for debugger setup and diagnostics?", "options": ["/Users/mohannarayanaswamy/git/terraform/docs/debugging.md", "/Users/mohannarayanaswamy/git/terraform/docs/resource-instance-change-lifecycle.md", "/Users/mohannarayanaswamy/git/terraform/docs/architecture.md", "/Users/mohannarayanaswamy/git/terraform/docs/destroying.md"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q0_7", "question": "In this workshop, which integration style is used to map IaC outputs into service configs?", "options": ["gRPC config service plus SQL inventory snapshot", "SOAP WSDL registry only", "FTP configuration push", "Static CSV only"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_8", "question": "What Terragrunt pattern is emphasized for multi-module environments?", "options": ["include + dependency blocks with run-all orchestration", "Single file with no hierarchy", "Only manual terraform apply", "CloudFormation nested stacks"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/README.md"}, {"id": "q0_9", "question": "What is the expected correct answer index in source JSON before option shuffling?", "options": ["0", "1", "2", "3"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/data/json/infrastructure/terraform_aws_modules_workshop_quiz.json"}, {"id": "q0_10", "question": "Which keyboard combination moves to the previous slide?", "options": ["Shift+Space or ArrowLeft", "Ctrl+Enter", "Alt+N", "Escape"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_11", "question": "What is recorded for each wrong answer to support retry?", "options": ["Question id and user's selected option", "Only final score", "Browser IP address", "Nothing is recorded"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_12", "question": "Which file is cited for Terraform core request flow internals?", "options": ["/Users/mohannarayanaswamy/git/terraform/docs/architecture.md", "/Users/mohannarayanaswamy/git/terraform/docs/destroying.md", "/Users/mohannarayanaswamy/git/terraform/docs/README.md", "/Users/mohannarayanaswamy/git/terraform/docs/resource-instance-change-lifecycle.md"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/architecture.md"}, {"id": "q0_13", "question": "Which operational concern is explicitly covered across all modules?", "options": ["Blast-radius control and rollback playbooks", "Only UI theming", "Frontend routing", "Nginx reverse proxy tuning"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_14", "question": "Which trait pairing is repeatedly validated in module deep dives?", "options": ["Variable traits and output traits", "CSS animations and icon packs", "Audio codecs and bitrates", "JWT refresh intervals"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}, {"id": "q0_15", "question": "Which action should the runtime expose at the end for failed questions?", "options": ["Retry failed questions with original attempts visible", "Delete all quiz history", "Lock the quiz permanently", "Export only passing questions"], "answer": 0, "explanation": "Correct because this behavior/path is explicitly implemented or cited in the workshop. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 1, "name": "EC2 Instance Module", "questions": [{"id": "q1_1", "question": "Which repository backs the EC2 Instance Module section in this workshop?", "options": ["terraform-aws-ec2-instance", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/main.tf"}, {"id": "q1_2", "question": "Which file is a primary code anchor for EC2 Instance Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/main.tf"}, {"id": "q1_3", "question": "Which resource block name is directly referenced for EC2 Instance Module?", "options": ["aws_instance.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/main.tf"}, {"id": "q1_4", "question": "Which data source trait is highlighted in EC2 Instance Module troubleshooting?", "options": ["aws_availability_zones.available", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/main.tf"}, {"id": "q1_5", "question": "Which variable trait is part of EC2 Instance Module module inputs?", "options": ["create", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/variables.tf"}, {"id": "q1_6", "question": "Which additional variable trait is commonly reviewed in EC2 Instance Module?", "options": ["name", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/variables.tf"}, {"id": "q1_7", "question": "Which output trait is part of the EC2 Instance Module contract?", "options": ["id", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/outputs.tf"}, {"id": "q1_8", "question": "Which second output trait is tracked for downstream dependencies in EC2 Instance Module?", "options": ["arn", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/outputs.tf"}, {"id": "q1_9", "question": "Which example path is explicitly walked through for EC2 Instance Module?", "options": ["complete", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/examples/complete/main.tf"}, {"id": "q1_10", "question": "Which additional example helps validate edge behavior in EC2 Instance Module?", "options": ["session-manager", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/examples/session-manager/main.tf"}, {"id": "q1_11", "question": "Which wrapper path appears in repeated deployment patterns for EC2 Instance Module?", "options": ["main.tf", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ec2-instance/wrappers/main.tf"}, {"id": "q1_12", "question": "Which document is used for migration or upgrade guidance in EC2 Instance Module?", "options": ["UPGRADE-3.0.md", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: docs/UPGRADE-3.0.md"}, {"id": "q1_13", "question": "What planning behavior should be reviewed before replacing resources in EC2 Instance Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q1_14", "question": "What debugging workflow is emphasized for EC2 Instance Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q1_15", "question": "How should failed answers behave in the EC2 Instance Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 2, "name": "ECS Module", "questions": [{"id": "q2_1", "question": "Which repository backs the ECS Module section in this workshop?", "options": ["terraform-aws-ecs", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/main.tf"}, {"id": "q2_2", "question": "Which file is a primary code anchor for ECS Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/main.tf"}, {"id": "q2_3", "question": "Which resource block name is directly referenced for ECS Module?", "options": ["aws_cloudwatch_log_group.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/main.tf"}, {"id": "q2_4", "question": "Which data source trait is highlighted in ECS Module troubleshooting?", "options": ["aws_availability_zones.available", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/main.tf"}, {"id": "q2_5", "question": "Which variable trait is part of ECS Module module inputs?", "options": ["create", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/cluster/main.tf"}, {"id": "q2_6", "question": "Which additional variable trait is commonly reviewed in ECS Module?", "options": ["region", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/cluster/main.tf"}, {"id": "q2_7", "question": "Which output trait is part of the ECS Module contract?", "options": ["cluster_arn", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/service/main.tf"}, {"id": "q2_8", "question": "Which second output trait is tracked for downstream dependencies in ECS Module?", "options": ["cluster_id", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/service/main.tf"}, {"id": "q2_9", "question": "Which example path is explicitly walked through for ECS Module?", "options": ["complete", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/container-definition/main.tf"}, {"id": "q2_10", "question": "Which additional example helps validate edge behavior in ECS Module?", "options": ["container-definition", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/modules/express-service/main.tf"}, {"id": "q2_11", "question": "Which wrapper path appears in repeated deployment patterns for ECS Module?", "options": ["cluster", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-ecs/examples/ec2-autoscaling/main.tf"}, {"id": "q2_12", "question": "Which document is used for migration or upgrade guidance in ECS Module?", "options": ["README.md", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: docs/README.md"}, {"id": "q2_13", "question": "What planning behavior should be reviewed before replacing resources in ECS Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q2_14", "question": "What debugging workflow is emphasized for ECS Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q2_15", "question": "How should failed answers behave in the ECS Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 3, "name": "EKS Module", "questions": [{"id": "q3_1", "question": "Which repository backs the EKS Module section in this workshop?", "options": ["terraform-aws-eks", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/main.tf"}, {"id": "q3_2", "question": "Which file is a primary code anchor for EKS Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/main.tf"}, {"id": "q3_3", "question": "Which resource block name is directly referenced for EKS Module?", "options": ["aws_iam_role.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/main.tf"}, {"id": "q3_4", "question": "Which data source trait is highlighted in EKS Module troubleshooting?", "options": ["aws_availability_zones.available", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/main.tf"}, {"id": "q3_5", "question": "Which variable trait is part of EKS Module module inputs?", "options": ["create", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/node_groups.tf"}, {"id": "q3_6", "question": "Which additional variable trait is commonly reviewed in EKS Module?", "options": ["prefix_separator", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/node_groups.tf"}, {"id": "q3_7", "question": "Which output trait is part of the EKS Module contract?", "options": ["cluster_arn", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/modules/eks-managed-node-group/main.tf"}, {"id": "q3_8", "question": "Which second output trait is tracked for downstream dependencies in EKS Module?", "options": ["cluster_certificate_authority_data", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/modules/eks-managed-node-group/main.tf"}, {"id": "q3_9", "question": "Which example path is explicitly walked through for EKS Module?", "options": ["eks-auto-mode", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/modules/self-managed-node-group/main.tf"}, {"id": "q3_10", "question": "Which additional example helps validate edge behavior in EKS Module?", "options": ["eks-capabilities", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/modules/fargate-profile/main.tf"}, {"id": "q3_11", "question": "Which wrapper path appears in repeated deployment patterns for EKS Module?", "options": ["main.tf", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-eks/modules/karpenter/main.tf"}, {"id": "q3_12", "question": "Which document is used for migration or upgrade guidance in EKS Module?", "options": ["CHANGELOG.pre-v11.0.0.md", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: docs/CHANGELOG.pre-v11.0.0.md"}, {"id": "q3_13", "question": "What planning behavior should be reviewed before replacing resources in EKS Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q3_14", "question": "What debugging workflow is emphasized for EKS Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q3_15", "question": "How should failed answers behave in the EKS Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 4, "name": "IAM Module", "questions": [{"id": "q4_1", "question": "Which repository backs the IAM Module section in this workshop?", "options": ["terraform-aws-iam", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-account/main.tf"}, {"id": "q4_2", "question": "Which file is a primary code anchor for IAM Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-account/main.tf"}, {"id": "q4_3", "question": "Which resource block name is directly referenced for IAM Module?", "options": ["aws_iam_policy.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-account/main.tf"}, {"id": "q4_4", "question": "Which data source trait is highlighted in IAM Module troubleshooting?", "options": ["aws_partition.current", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-account/main.tf"}, {"id": "q4_5", "question": "Which variable trait is part of IAM Module module inputs?", "options": ["defaults", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-group/main.tf"}, {"id": "q4_6", "question": "Which additional variable trait is commonly reviewed in IAM Module?", "options": ["items", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-group/main.tf"}, {"id": "q4_7", "question": "Which output trait is part of the IAM Module contract?", "options": ["wrapper", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-role/main.tf"}, {"id": "q4_8", "question": "Which second output trait is tracked for downstream dependencies in IAM Module?", "options": ["group_id", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-role/main.tf"}, {"id": "q4_9", "question": "Which example path is explicitly walked through for IAM Module?", "options": ["iam-account", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-role-for-service-accounts/main.tf"}, {"id": "q4_10", "question": "Which additional example helps validate edge behavior in IAM Module?", "options": ["iam-group", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/docs/UPGRADE-6.0.md"}, {"id": "q4_11", "question": "Which wrapper path appears in repeated deployment patterns for IAM Module?", "options": ["iam-account", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-iam/modules/iam-role-for-service-accounts/main.tf"}, {"id": "q4_12", "question": "Which document is used for migration or upgrade guidance in IAM Module?", "options": ["UPGRADE-6.0.md", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: docs/UPGRADE-6.0.md"}, {"id": "q4_13", "question": "What planning behavior should be reviewed before replacing resources in IAM Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q4_14", "question": "What debugging workflow is emphasized for IAM Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q4_15", "question": "How should failed answers behave in the IAM Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 5, "name": "KMS Module", "questions": [{"id": "q5_1", "question": "Which repository backs the KMS Module section in this workshop?", "options": ["terraform-aws-kms", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/main.tf"}, {"id": "q5_2", "question": "Which file is a primary code anchor for KMS Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/main.tf"}, {"id": "q5_3", "question": "Which resource block name is directly referenced for KMS Module?", "options": ["aws_kms_key.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/main.tf"}, {"id": "q5_4", "question": "Which data source trait is highlighted in KMS Module troubleshooting?", "options": ["aws_caller_identity.current", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/main.tf"}, {"id": "q5_5", "question": "Which variable trait is part of KMS Module module inputs?", "options": ["create", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/variables.tf"}, {"id": "q5_6", "question": "Which additional variable trait is commonly reviewed in KMS Module?", "options": ["region", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/variables.tf"}, {"id": "q5_7", "question": "Which output trait is part of the KMS Module contract?", "options": ["key_arn", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/outputs.tf"}, {"id": "q5_8", "question": "Which second output trait is tracked for downstream dependencies in KMS Module?", "options": ["key_id", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/outputs.tf"}, {"id": "q5_9", "question": "Which example path is explicitly walked through for KMS Module?", "options": ["complete", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/examples/complete/main.tf"}, {"id": "q5_10", "question": "Which additional example helps validate edge behavior in KMS Module?", "options": ["complete", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/docs/UPGRADE-4.0.md"}, {"id": "q5_11", "question": "Which wrapper path appears in repeated deployment patterns for KMS Module?", "options": ["main.tf", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-kms/examples/complete/main.tf"}, {"id": "q5_12", "question": "Which document is used for migration or upgrade guidance in KMS Module?", "options": ["UPGRADE-4.0.md", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: docs/UPGRADE-4.0.md"}, {"id": "q5_13", "question": "What planning behavior should be reviewed before replacing resources in KMS Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q5_14", "question": "What debugging workflow is emphasized for KMS Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q5_15", "question": "How should failed answers behave in the KMS Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 6, "name": "S3 Bucket Module", "questions": [{"id": "q6_1", "question": "Which repository backs the S3 Bucket Module section in this workshop?", "options": ["terraform-aws-s3-bucket", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/main.tf"}, {"id": "q6_2", "question": "Which file is a primary code anchor for S3 Bucket Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/main.tf"}, {"id": "q6_3", "question": "Which resource block name is directly referenced for S3 Bucket Module?", "options": ["random_pet.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/main.tf"}, {"id": "q6_4", "question": "Which data source trait is highlighted in S3 Bucket Module troubleshooting?", "options": ["aws_caller_identity.current", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/main.tf"}, {"id": "q6_5", "question": "Which variable trait is part of S3 Bucket Module module inputs?", "options": ["create_bucket", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/account-public-access/main.tf"}, {"id": "q6_6", "question": "Which additional variable trait is commonly reviewed in S3 Bucket Module?", "options": ["attach_elb_log_delivery_policy", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/account-public-access/main.tf"}, {"id": "q6_7", "question": "Which output trait is part of the S3 Bucket Module contract?", "options": ["s3_bucket_id", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/notification/main.tf"}, {"id": "q6_8", "question": "Which second output trait is tracked for downstream dependencies in S3 Bucket Module?", "options": ["s3_bucket_arn", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/notification/main.tf"}, {"id": "q6_9", "question": "Which example path is explicitly walked through for S3 Bucket Module?", "options": ["account-public-access", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/object/main.tf"}, {"id": "q6_10", "question": "Which additional example helps validate edge behavior in S3 Bucket Module?", "options": ["complete", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/table-bucket/main.tf"}, {"id": "q6_11", "question": "Which wrapper path appears in repeated deployment patterns for S3 Bucket Module?", "options": ["account-public-access", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-s3-bucket/modules/table-bucket/main.tf"}, {"id": "q6_12", "question": "Which document is used for migration or upgrade guidance in S3 Bucket Module?", "options": ["UPGRADE-3.0.md", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: docs/UPGRADE-3.0.md"}, {"id": "q6_13", "question": "What planning behavior should be reviewed before replacing resources in S3 Bucket Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q6_14", "question": "What debugging workflow is emphasized for S3 Bucket Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q6_15", "question": "How should failed answers behave in the S3 Bucket Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 7, "name": "Secrets Manager Module", "questions": [{"id": "q7_1", "question": "Which repository backs the Secrets Manager Module section in this workshop?", "options": ["terraform-aws-secrets-manager", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/main.tf"}, {"id": "q7_2", "question": "Which file is a primary code anchor for Secrets Manager Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/main.tf"}, {"id": "q7_3", "question": "Which resource block name is directly referenced for Secrets Manager Module?", "options": ["aws_secretsmanager_secret.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/main.tf"}, {"id": "q7_4", "question": "Which data source trait is highlighted in Secrets Manager Module troubleshooting?", "options": ["aws_iam_policy_document.this", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/main.tf"}, {"id": "q7_5", "question": "Which variable trait is part of Secrets Manager Module module inputs?", "options": ["create", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/variables.tf"}, {"id": "q7_6", "question": "Which additional variable trait is commonly reviewed in Secrets Manager Module?", "options": ["region", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/variables.tf"}, {"id": "q7_7", "question": "Which output trait is part of the Secrets Manager Module contract?", "options": ["secret_arn", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/outputs.tf"}, {"id": "q7_8", "question": "Which second output trait is tracked for downstream dependencies in Secrets Manager Module?", "options": ["secret_id", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/outputs.tf"}, {"id": "q7_9", "question": "Which example path is explicitly walked through for Secrets Manager Module?", "options": ["complete", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/examples/complete/main.tf"}, {"id": "q7_10", "question": "Which additional example helps validate edge behavior in Secrets Manager Module?", "options": ["complete", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/main.tf"}, {"id": "q7_11", "question": "Which wrapper path appears in repeated deployment patterns for Secrets Manager Module?", "options": ["main.tf", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/outputs.tf"}, {"id": "q7_12", "question": "Which document is used for migration or upgrade guidance in Secrets Manager Module?", "options": ["main.tf", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-secrets-manager/main.tf"}, {"id": "q7_13", "question": "What planning behavior should be reviewed before replacing resources in Secrets Manager Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q7_14", "question": "What debugging workflow is emphasized for Secrets Manager Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q7_15", "question": "How should failed answers behave in the Secrets Manager Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 8, "name": "Security Group Module", "questions": [{"id": "q8_1", "question": "Which repository backs the Security Group Module section in this workshop?", "options": ["terraform-aws-security-group", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/main.tf"}, {"id": "q8_2", "question": "Which file is a primary code anchor for Security Group Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/main.tf"}, {"id": "q8_3", "question": "Which resource block name is directly referenced for Security Group Module?", "options": ["aws_security_group.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/main.tf"}, {"id": "q8_4", "question": "Which data source trait is highlighted in Security Group Module troubleshooting?", "options": ["aws_vpc.default", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/main.tf"}, {"id": "q8_5", "question": "Which variable trait is part of Security Group Module module inputs?", "options": ["rules", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/rules.tf"}, {"id": "q8_6", "question": "Which additional variable trait is commonly reviewed in Security Group Module?", "options": ["auto_groups", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/rules.tf"}, {"id": "q8_7", "question": "Which output trait is part of the Security Group Module contract?", "options": ["security_group_arn", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/http-80/main.tf"}, {"id": "q8_8", "question": "Which second output trait is tracked for downstream dependencies in Security Group Module?", "options": ["security_group_id", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/http-80/main.tf"}, {"id": "q8_9", "question": "Which example path is explicitly walked through for Security Group Module?", "options": ["complete", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/mysql/main.tf"}, {"id": "q8_10", "question": "Which additional example helps validate edge behavior in Security Group Module?", "options": ["computed", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/kubernetes-api/main.tf"}, {"id": "q8_11", "question": "Which wrapper path appears in repeated deployment patterns for Security Group Module?", "options": ["_templates", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/modules/kubernetes-api/main.tf"}, {"id": "q8_12", "question": "Which document is used for migration or upgrade guidance in Security Group Module?", "options": ["main.tf", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-security-group/main.tf"}, {"id": "q8_13", "question": "What planning behavior should be reviewed before replacing resources in Security Group Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q8_14", "question": "What debugging workflow is emphasized for Security Group Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q8_15", "question": "How should failed answers behave in the Security Group Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}, {"id": 9, "name": "VPC Module", "questions": [{"id": "q9_1", "question": "Which repository backs the VPC Module section in this workshop?", "options": ["terraform-aws-vpc", "terraform-aws-rds", "terraform-aws-lambda", "terraform-aws-cloudfront"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/main.tf"}, {"id": "q9_2", "question": "Which file is a primary code anchor for VPC Module?", "options": ["main.tf", "Dockerfile", "package-lock.json", "pom.xml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/main.tf"}, {"id": "q9_3", "question": "Which resource block name is directly referenced for VPC Module?", "options": ["aws_flow_log.this", "resource_alpha", "resource_beta", "resource_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/main.tf"}, {"id": "q9_4", "question": "Which data source trait is highlighted in VPC Module troubleshooting?", "options": ["aws_availability_zones.available", "data_alpha", "data_beta", "data_gamma"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/main.tf"}, {"id": "q9_5", "question": "Which variable trait is part of VPC Module module inputs?", "options": ["create_vpc", "frontend_theme", "api_rate_limit", "react_strict_mode"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/vpc-flow-logs.tf"}, {"id": "q9_6", "question": "Which additional variable trait is commonly reviewed in VPC Module?", "options": ["region", "jwt_ttl", "mobile_sdk_version", "html_template"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/vpc-flow-logs.tf"}, {"id": "q9_7", "question": "Which output trait is part of the VPC Module contract?", "options": ["vpc_id", "apk_path", "helm_release_name", "binary_checksum"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/modules/flow-log/main.tf"}, {"id": "q9_8", "question": "Which second output trait is tracked for downstream dependencies in VPC Module?", "options": ["vpc_arn", "xcode_team_id", "storybook_url", "cdn_cache_key"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/modules/flow-log/main.tf"}, {"id": "q9_9", "question": "Which example path is explicitly walked through for VPC Module?", "options": ["block-public-access", "android-app", "k8s-manifests", "db-migrations"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/modules/vpc-endpoints/main.tf"}, {"id": "q9_10", "question": "Which additional example helps validate edge behavior in VPC Module?", "options": ["complete", "sample-ui", "mock-api", "helm-values"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/examples/ipam/main.tf"}, {"id": "q9_11", "question": "Which wrapper path appears in repeated deployment patterns for VPC Module?", "options": ["flow-log", "wrapper.ts", "wrapper.py", "wrapper.yaml"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform-aws-vpc/examples/ipam/main.tf"}, {"id": "q9_12", "question": "Which document is used for migration or upgrade guidance in VPC Module?", "options": ["UPGRADE-3.0.md", "CHANGELOG.rst", "UPGRADE-1.0.adoc", "terraform.lock.hcl"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: docs/UPGRADE-3.0.md"}, {"id": "q9_13", "question": "What planning behavior should be reviewed before replacing resources in VPC Module?", "options": ["replace vs update action in plan output", "force-stop all containers", "delete remote state first", "clear provider cache only"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/planning-behaviors.md"}, {"id": "q9_14", "question": "What debugging workflow is emphasized for VPC Module when plan output is unstable?", "options": ["run validate/plan with targeted diagnostics and dependency checks", "skip plan and apply directly", "disable state backend", "ignore all warnings"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/terraform/docs/debugging.md"}, {"id": "q9_15", "question": "How should failed answers behave in the VPC Module quiz segment?", "options": ["capture user selection and retry at the end", "drop failed answers silently", "reset quiz immediately", "lock further attempts"], "answer": 0, "explanation": "This aligns with module code anchors and workshop operations guidance. Code reference: /Users/mohannarayanaswamy/git/quiz/programming/articles/terraform_aws_modules_workshop.html"}]}]};

let currentSlide = 0;
let quizState = {};
let failedById = {};
let retryMode = false;
let retryQueue = [];
let retryIndex = 0;
let waitingFeedback = false;

const els = {
  slide: document.getElementById('slide'),
  moduleLabel: document.getElementById('module-label'),
  counter: document.getElementById('slide-counter'),
  pct: document.getElementById('pct'),
  progress: document.getElementById('progress-bar'),
  prevBtn: document.getElementById('prev-btn'),
  nextBtn: document.getElementById('next-btn'),
  toc: document.getElementById('toc'),
  tocBody: document.getElementById('toc-body'),
  tocOverlay: document.getElementById('toc-overlay'),
};

function saveState() {
  try {
    localStorage.setItem(STORE_KEY, JSON.stringify({ currentSlide, quizState, failedById }));
  } catch (_e) {}
}

function loadState() {
  try {
    const raw = localStorage.getItem(STORE_KEY);
    if (!raw) return;
    const parsed = JSON.parse(raw);
    if (typeof parsed.currentSlide === 'number') currentSlide = Math.max(0, Math.min(SLIDES.length - 1, parsed.currentSlide));
    if (parsed.quizState && typeof parsed.quizState === 'object') quizState = parsed.quizState;
    if (parsed.failedById && typeof parsed.failedById === 'object') failedById = parsed.failedById;
  } catch (_e) {}
}

function hashSeed(s) {
  let h = 2166136261;
  for (let i = 0; i < s.length; i++) {
    h ^= s.charCodeAt(i);
    h = Math.imul(h, 16777619);
  }
  return (h >>> 0) || 1;
}

function seeded(state) {
  state.v = (1664525 * state.v + 1013904223) % 4294967296;
  return state.v / 4294967296;
}

function shuffledOrder(question) {
  const order = Array.from(question.options.keys());
  const st = { v: hashSeed(question.id) };
  for (let i = order.length - 1; i > 0; i--) {
    const j = Math.floor(seeded(st) * (i + 1));
    const tmp = order[i];
    order[i] = order[j];
    order[j] = tmp;
  }
  return order;
}

function getQuizModule(moduleId) {
  return QUIZ_DATA.modules.find(m => m.id === moduleId);
}

function ensureQuizState(moduleId) {
  if (!quizState[moduleId]) {
    quizState[moduleId] = { cursor: 0, responses: {}, completed: false };
  }
  if (!quizState[moduleId].responses) quizState[moduleId].responses = {};
  return quizState[moduleId];
}

function moduleScore(moduleId) {
  const mod = getQuizModule(moduleId);
  const st = ensureQuizState(moduleId);
  let correct = 0;
  for (const q of mod.questions) {
    if (st.responses[q.id] && st.responses[q.id].correct) correct += 1;
  }
  return { correct, total: mod.questions.length };
}

function buildTOC() {
  const groups = new Map();
  SLIDES.forEach((s, i) => {
    if (!groups.has(s.moduleId)) groups.set(s.moduleId, []);
    groups.get(s.moduleId).push([i, s]);
  });
  let html = '';
  for (const [moduleId, entries] of groups.entries()) {
    html += `<div class="toc-module"><h3>${MODULE_LABELS[moduleId]}</h3>`;
    for (const [idx, slide] of entries) {
      const cls = idx === currentSlide && !retryMode ? 'toc-link active' : 'toc-link';
      html += `<a href="#" class="${cls}" data-idx="${idx}">${slide.title}</a>`;
    }
    html += '</div>';
  }
  els.tocBody.innerHTML = html;
  for (const a of els.tocBody.querySelectorAll('a[data-idx]')) {
    a.addEventListener('click', e => {
      e.preventDefault();
      const idx = Number(a.getAttribute('data-idx'));
      if (Number.isFinite(idx)) {
        retryMode = false;
        currentSlide = idx;
        saveState();
        render();
        toggleTOC(false);
      }
    });
  }
}

function toggleTOC(force) {
  const open = typeof force === 'boolean' ? force : !els.toc.classList.contains('open');
  els.toc.classList.toggle('open', open);
  els.tocOverlay.style.display = open ? 'block' : 'none';
}

function go(step) {
  if (retryMode) return;
  currentSlide = Math.max(0, Math.min(SLIDES.length - 1, currentSlide + step));
  saveState();
  render();
}

function jumpTo(index) {
  if (retryMode) return;
  currentSlide = Math.max(0, Math.min(SLIDES.length - 1, index));
  saveState();
  render();
}

function esc(s) {
  return String(s)
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;');
}

function renderQuizSlide(moduleId) {
  const mod = getQuizModule(moduleId);
  if (!mod) {
    els.slide.innerHTML = '<div class="warn">Quiz module data missing.</div>';
    return;
  }

  const st = ensureQuizState(moduleId);
  if (st.cursor >= mod.questions.length) st.completed = true;
  const score = moduleScore(moduleId);

  if (st.completed) {
    const moduleFailed = mod.questions.filter(q => failedById[q.id]);
    els.slide.innerHTML = `
      <div class="quiz-wrap">
        <h2>Quiz Complete: ${mod.name}</h2>
        <div class="quiz-header">Score: <strong>${score.correct} / ${score.total}</strong></div>
        <div class="retry-box">Failed questions pending retry: <strong>${moduleFailed.length}</strong></div>
        <div class="row">
          <button id="continue-slide">Continue to next slide</button>
          <button id="retry-module" ${moduleFailed.length ? '' : 'disabled'}>Retry Failed in This Module</button>
        </div>
      </div>
    `;
    const cBtn = document.getElementById('continue-slide');
    cBtn.addEventListener('click', () => go(1));
    const rBtn = document.getElementById('retry-module');
    rBtn.addEventListener('click', () => beginRetry(moduleFailed.map(q => q.id)));
    return;
  }

  const q = mod.questions[st.cursor];
  const order = shuffledOrder(q);

  const optionsHtml = order.map((originalIdx, displayIdx) => `
    <button class="quiz-opt" data-display-idx="${displayIdx}">${esc(q.options[originalIdx])}</button>
  `).join('');

  const pct = Math.round((st.cursor / mod.questions.length) * 100);
  els.slide.innerHTML = `
    <div class="quiz-wrap">
      <h2>Quiz: ${mod.name}</h2>
      <div class="quiz-header">Question ${st.cursor + 1} / ${mod.questions.length}</div>
      <div class="quiz-progress"><div style="width:${pct}%"></div></div>
      <h3>${esc(q.question)}</h3>
      <div>${optionsHtml}</div>
      <div id="quiz-feedback" class="quiz-feedback"></div>
      <div class="tip">Options are deterministically shuffled by question id. Correct answers advance in ~1.2s, wrong answers in ~3s.</div>
    </div>
  `;

  const feedback = document.getElementById('quiz-feedback');
  for (const btn of els.slide.querySelectorAll('.quiz-opt')) {
    btn.addEventListener('click', () => {
      if (waitingFeedback) return;
      waitingFeedback = true;
      for (const b of els.slide.querySelectorAll('.quiz-opt')) b.classList.add('disabled');

      const displayIdx = Number(btn.getAttribute('data-display-idx'));
      const originalIdx = order[displayIdx];
      const selectedText = q.options[originalIdx];
      const correct = originalIdx === q.answer;
      st.responses[q.id] = { selectedOriginalIndex: originalIdx, selectedText, correct };

      if (correct) {
        delete failedById[q.id];
        btn.classList.add('correct');
        feedback.className = 'quiz-feedback show pass';
        feedback.textContent = `Correct. ${q.explanation}`;
      } else {
        failedById[q.id] = {
          moduleId,
          questionId: q.id,
          question: q.question,
          selectedText,
          correctText: q.options[q.answer],
          explanation: q.explanation,
        };
        btn.classList.add('wrong');
        feedback.className = 'quiz-feedback show fail';
        feedback.textContent = `Incorrect. ${q.explanation}`;
      }

      const delay = correct ? 1200 : 3000;
      setTimeout(() => {
        waitingFeedback = false;
        st.cursor += 1;
        if (st.cursor >= mod.questions.length) st.completed = true;
        saveState();
        render();
      }, delay);
    });
  }
}

function beginRetry(questionIds) {
  const ids = questionIds && questionIds.length ? questionIds : Object.keys(failedById);
  const items = ids.map(id => failedById[id]).filter(Boolean);
  if (!items.length) {
    alert('No failed questions recorded.');
    return;
  }
  retryMode = true;
  retryQueue = items;
  retryIndex = 0;
  render();
}

function retryFailed() {
  beginRetry([]);
}

function getQuestion(moduleId, questionId) {
  const mod = getQuizModule(moduleId);
  if (!mod) return null;
  return mod.questions.find(q => q.id === questionId) || null;
}

function renderRetryMode() {
  if (retryIndex >= retryQueue.length) {
    const remaining = Object.keys(failedById).length;
    els.slide.innerHTML = `
      <div class="quiz-wrap">
        <h2>Retry Complete</h2>
        <div class="retry-box">Remaining failed questions: <strong>${remaining}</strong></div>
        <button id="exit-retry">Exit Retry Mode</button>
      </div>
    `;
    document.getElementById('exit-retry').addEventListener('click', () => {
      retryMode = false;
      retryQueue = [];
      retryIndex = 0;
      saveState();
      render();
    });
    return;
  }

  const item = retryQueue[retryIndex];
  const q = getQuestion(item.moduleId, item.questionId);
  if (!q) {
    retryIndex += 1;
    renderRetryMode();
    return;
  }
  const order = shuffledOrder(q);

  els.slide.innerHTML = `
    <div class="quiz-wrap">
      <h2>Retry Failed Questions</h2>
      <div class="quiz-header">Retry ${retryIndex + 1} / ${retryQueue.length}</div>
      <div class="retry-box">
        <div><strong>Previous selection:</strong> ${esc(item.selectedText || 'N/A')}</div>
        <div><strong>Expected answer:</strong> ${esc(item.correctText || 'N/A')}</div>
      </div>
      <h3>${esc(q.question)}</h3>
      <div>
        ${order.map((originalIdx, displayIdx) => `<button class="quiz-opt" data-display-idx="${displayIdx}">${esc(q.options[originalIdx])}</button>`).join('')}
      </div>
      <div id="retry-feedback" class="quiz-feedback"></div>
    </div>
  `;

  const feedback = document.getElementById('retry-feedback');
  for (const btn of els.slide.querySelectorAll('.quiz-opt')) {
    btn.addEventListener('click', () => {
      if (waitingFeedback) return;
      waitingFeedback = true;
      for (const b of els.slide.querySelectorAll('.quiz-opt')) b.classList.add('disabled');

      const displayIdx = Number(btn.getAttribute('data-display-idx'));
      const originalIdx = order[displayIdx];
      const selectedText = q.options[originalIdx];
      const correct = originalIdx === q.answer;

      const st = ensureQuizState(item.moduleId);
      st.responses[q.id] = { selectedOriginalIndex: originalIdx, selectedText, correct };

      if (correct) {
        delete failedById[q.id];
        btn.classList.add('correct');
        feedback.className = 'quiz-feedback show pass';
        feedback.textContent = `Correct. ${q.explanation}`;
      } else {
        failedById[q.id] = { ...item, selectedText, correctText: q.options[q.answer], explanation: q.explanation };
        btn.classList.add('wrong');
        feedback.className = 'quiz-feedback show fail';
        feedback.textContent = `Incorrect. ${q.explanation}`;
      }

      const delay = correct ? 1200 : 3000;
      setTimeout(() => {
        waitingFeedback = false;
        retryIndex += 1;
        saveState();
        render();
      }, delay);
    });
  }
}

function renderSlide() {
  const slide = SLIDES[currentSlide];
  if (!slide) return;
  if (slide.quiz) renderQuizSlide(slide.moduleId);
  else {
    els.slide.innerHTML = `<h1>${esc(slide.title)}</h1>${slide.content}`;
  }
}

function render() {
  const total = SLIDES.length;
  if (!retryMode) {
    const s = SLIDES[currentSlide];
    els.moduleLabel.textContent = MODULE_LABELS[s.moduleId] || 'Module';
    els.counter.textContent = `${currentSlide + 1} / ${total}`;
    const pct = Math.round(((currentSlide + 1) / total) * 100);
    els.pct.textContent = `${pct}%`;
    els.progress.style.width = `${pct}%`;
    els.prevBtn.disabled = currentSlide <= 0;
    els.nextBtn.disabled = currentSlide >= total - 1;
    els.prevBtn.style.display = '';
    els.nextBtn.style.display = '';
    renderSlide();
  } else {
    els.moduleLabel.textContent = 'Retry Failed Questions';
    els.counter.textContent = `${retryIndex + 1} / ${Math.max(retryQueue.length, 1)}`;
    els.pct.textContent = `Retry`;
    els.progress.style.width = '100%';
    els.prevBtn.style.display = 'none';
    els.nextBtn.style.display = 'none';
    renderRetryMode();
  }
  buildTOC();
}

document.getElementById('toc-btn').addEventListener('click', () => toggleTOC());
els.tocOverlay.addEventListener('click', () => toggleTOC(false));
document.getElementById('retry-btn').addEventListener('click', retryFailed);
els.prevBtn.addEventListener('click', () => go(-1));
els.nextBtn.addEventListener('click', () => go(1));

document.addEventListener('keydown', (e) => {
  if (e.target && (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA')) return;
  if (e.key === 'ArrowRight' || (e.key === ' ' && !e.shiftKey)) {
    e.preventDefault();
    go(1);
    return;
  }
  if (e.key === 'ArrowLeft' || (e.key === ' ' && e.shiftKey)) {
    e.preventDefault();
    go(-1);
    return;
  }
  if (e.key === 'Home') { e.preventDefault(); jumpTo(0); return; }
  if (e.key === 'End') { e.preventDefault(); jumpTo(SLIDES.length - 1); return; }
  if (e.key.toLowerCase() === 't') { e.preventDefault(); toggleTOC(); return; }
  if (e.key.toLowerCase() === 'r') { e.preventDefault(); retryFailed(); return; }
});

loadState();
render();
</script>
</body>
</html>
